<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>zouyu-Blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/blog/images/learn.png">
    <meta name="description" content="求知若渴，虚心若愚。 愿你每天都在成长">
    
    <link rel="preload" href="/blog/assets/css/0.styles.b6bbc000.css" as="style"><link rel="preload" href="/blog/assets/js/app.5c484a50.js" as="script"><link rel="preload" href="/blog/assets/js/3.8dc6c122.js" as="script"><link rel="preload" href="/blog/assets/js/191.959d5f5f.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.febbc81f.js"><link rel="prefetch" href="/blog/assets/js/100.9259ef63.js"><link rel="prefetch" href="/blog/assets/js/101.3da27d21.js"><link rel="prefetch" href="/blog/assets/js/102.6fa069ad.js"><link rel="prefetch" href="/blog/assets/js/103.43e9f62f.js"><link rel="prefetch" href="/blog/assets/js/104.6f86dc9e.js"><link rel="prefetch" href="/blog/assets/js/105.4a19bfc6.js"><link rel="prefetch" href="/blog/assets/js/106.e05fe0f9.js"><link rel="prefetch" href="/blog/assets/js/107.9742ed05.js"><link rel="prefetch" href="/blog/assets/js/108.2c8f6f4e.js"><link rel="prefetch" href="/blog/assets/js/109.3b96b505.js"><link rel="prefetch" href="/blog/assets/js/11.6c44e9c9.js"><link rel="prefetch" href="/blog/assets/js/110.3428e3da.js"><link rel="prefetch" href="/blog/assets/js/111.f1864178.js"><link rel="prefetch" href="/blog/assets/js/112.2ef1a6cc.js"><link rel="prefetch" href="/blog/assets/js/113.663107aa.js"><link rel="prefetch" href="/blog/assets/js/114.27ae3724.js"><link rel="prefetch" href="/blog/assets/js/115.da0b4d3a.js"><link rel="prefetch" href="/blog/assets/js/116.fbe6dcd2.js"><link rel="prefetch" href="/blog/assets/js/117.bf1d0b1a.js"><link rel="prefetch" href="/blog/assets/js/118.ac660281.js"><link rel="prefetch" href="/blog/assets/js/119.f381212e.js"><link rel="prefetch" href="/blog/assets/js/12.f16fe947.js"><link rel="prefetch" href="/blog/assets/js/120.d4e55d8d.js"><link rel="prefetch" href="/blog/assets/js/121.bb88ab51.js"><link rel="prefetch" href="/blog/assets/js/122.651f365e.js"><link rel="prefetch" href="/blog/assets/js/123.13ea0580.js"><link rel="prefetch" href="/blog/assets/js/124.6f849caf.js"><link rel="prefetch" href="/blog/assets/js/125.64fd3346.js"><link rel="prefetch" href="/blog/assets/js/126.dac1aa2e.js"><link rel="prefetch" href="/blog/assets/js/127.f9776ae0.js"><link rel="prefetch" href="/blog/assets/js/128.60667ffd.js"><link rel="prefetch" href="/blog/assets/js/129.4e3188ff.js"><link rel="prefetch" href="/blog/assets/js/13.b299c7b1.js"><link rel="prefetch" href="/blog/assets/js/130.714850ba.js"><link rel="prefetch" href="/blog/assets/js/131.0d15a4db.js"><link rel="prefetch" href="/blog/assets/js/132.7f8418d0.js"><link rel="prefetch" href="/blog/assets/js/133.1c5d88c7.js"><link rel="prefetch" href="/blog/assets/js/134.74ba0012.js"><link rel="prefetch" href="/blog/assets/js/135.11ec9e17.js"><link rel="prefetch" href="/blog/assets/js/136.d5e724ce.js"><link rel="prefetch" href="/blog/assets/js/137.bfadad53.js"><link rel="prefetch" href="/blog/assets/js/138.0d07a873.js"><link rel="prefetch" href="/blog/assets/js/139.6a2b3a93.js"><link rel="prefetch" href="/blog/assets/js/14.67fbf28f.js"><link rel="prefetch" href="/blog/assets/js/140.c34f86ef.js"><link rel="prefetch" href="/blog/assets/js/141.3ff0a6ed.js"><link rel="prefetch" href="/blog/assets/js/142.55be366b.js"><link rel="prefetch" href="/blog/assets/js/143.583f3dc6.js"><link rel="prefetch" href="/blog/assets/js/144.a88b6453.js"><link rel="prefetch" href="/blog/assets/js/145.966eae27.js"><link rel="prefetch" href="/blog/assets/js/146.d5da85c2.js"><link rel="prefetch" href="/blog/assets/js/147.96ff5977.js"><link rel="prefetch" href="/blog/assets/js/148.d9973f2d.js"><link rel="prefetch" href="/blog/assets/js/149.f13607c8.js"><link rel="prefetch" href="/blog/assets/js/15.b3e3f322.js"><link rel="prefetch" href="/blog/assets/js/150.50f22aa4.js"><link rel="prefetch" href="/blog/assets/js/151.6c8353f7.js"><link rel="prefetch" href="/blog/assets/js/152.4c15de81.js"><link rel="prefetch" href="/blog/assets/js/153.67297978.js"><link rel="prefetch" href="/blog/assets/js/154.123b78de.js"><link rel="prefetch" href="/blog/assets/js/155.2102ec2d.js"><link rel="prefetch" href="/blog/assets/js/156.3882f181.js"><link rel="prefetch" href="/blog/assets/js/157.685eca62.js"><link rel="prefetch" href="/blog/assets/js/158.9a955ef1.js"><link rel="prefetch" href="/blog/assets/js/159.dbd351c7.js"><link rel="prefetch" href="/blog/assets/js/16.c97a8088.js"><link rel="prefetch" href="/blog/assets/js/160.45a18a5c.js"><link rel="prefetch" href="/blog/assets/js/161.e2497d2b.js"><link rel="prefetch" href="/blog/assets/js/162.8377780a.js"><link rel="prefetch" href="/blog/assets/js/163.ae45f0a5.js"><link rel="prefetch" href="/blog/assets/js/164.6df8087d.js"><link rel="prefetch" href="/blog/assets/js/165.3f6123e3.js"><link rel="prefetch" href="/blog/assets/js/166.e7c96a06.js"><link rel="prefetch" href="/blog/assets/js/167.6030d2c9.js"><link rel="prefetch" href="/blog/assets/js/168.4286e6b2.js"><link rel="prefetch" href="/blog/assets/js/169.d4a167a8.js"><link rel="prefetch" href="/blog/assets/js/17.6cc239d7.js"><link rel="prefetch" href="/blog/assets/js/170.3ba6ab29.js"><link rel="prefetch" href="/blog/assets/js/171.188d2f49.js"><link rel="prefetch" href="/blog/assets/js/172.2466b9d8.js"><link rel="prefetch" href="/blog/assets/js/173.c84b34de.js"><link rel="prefetch" href="/blog/assets/js/174.cb219705.js"><link rel="prefetch" href="/blog/assets/js/175.9316fb59.js"><link rel="prefetch" href="/blog/assets/js/176.36d208a2.js"><link rel="prefetch" href="/blog/assets/js/177.c47c9a81.js"><link rel="prefetch" href="/blog/assets/js/178.51aee8c2.js"><link rel="prefetch" href="/blog/assets/js/179.4a4a372e.js"><link rel="prefetch" href="/blog/assets/js/18.dcbf7d0d.js"><link rel="prefetch" href="/blog/assets/js/180.5b7b3672.js"><link rel="prefetch" href="/blog/assets/js/181.d9cf5f99.js"><link rel="prefetch" href="/blog/assets/js/182.c2635527.js"><link rel="prefetch" href="/blog/assets/js/183.a44ae4fe.js"><link rel="prefetch" href="/blog/assets/js/184.194d8640.js"><link rel="prefetch" href="/blog/assets/js/185.bc5d30a9.js"><link rel="prefetch" href="/blog/assets/js/186.eff8552b.js"><link rel="prefetch" href="/blog/assets/js/187.5d951aeb.js"><link rel="prefetch" href="/blog/assets/js/188.5c1223fa.js"><link rel="prefetch" href="/blog/assets/js/189.5808866f.js"><link rel="prefetch" href="/blog/assets/js/19.2140c229.js"><link rel="prefetch" href="/blog/assets/js/190.994c47f6.js"><link rel="prefetch" href="/blog/assets/js/192.b5a07fb6.js"><link rel="prefetch" href="/blog/assets/js/193.311be80e.js"><link rel="prefetch" href="/blog/assets/js/194.82453715.js"><link rel="prefetch" href="/blog/assets/js/195.ff6d8d1d.js"><link rel="prefetch" href="/blog/assets/js/196.5c8e3b0a.js"><link rel="prefetch" href="/blog/assets/js/197.ef0327ec.js"><link rel="prefetch" href="/blog/assets/js/198.3cdb7156.js"><link rel="prefetch" href="/blog/assets/js/199.5c27985a.js"><link rel="prefetch" href="/blog/assets/js/2.1e74d1b7.js"><link rel="prefetch" href="/blog/assets/js/20.d0ed9959.js"><link rel="prefetch" href="/blog/assets/js/200.3456f9ed.js"><link rel="prefetch" href="/blog/assets/js/201.9d75fd1b.js"><link rel="prefetch" href="/blog/assets/js/202.857fb3c0.js"><link rel="prefetch" href="/blog/assets/js/203.7e9c5613.js"><link rel="prefetch" href="/blog/assets/js/204.b8b5fecf.js"><link rel="prefetch" href="/blog/assets/js/205.e94357c3.js"><link rel="prefetch" href="/blog/assets/js/206.241ec95d.js"><link rel="prefetch" href="/blog/assets/js/207.396b4219.js"><link rel="prefetch" href="/blog/assets/js/208.af2e1487.js"><link rel="prefetch" href="/blog/assets/js/209.b51b3443.js"><link rel="prefetch" href="/blog/assets/js/21.b25258d9.js"><link rel="prefetch" href="/blog/assets/js/210.7c7e4e9a.js"><link rel="prefetch" href="/blog/assets/js/211.6ce7171d.js"><link rel="prefetch" href="/blog/assets/js/212.5b57621d.js"><link rel="prefetch" href="/blog/assets/js/213.6ff1fe81.js"><link rel="prefetch" href="/blog/assets/js/214.79574d36.js"><link rel="prefetch" href="/blog/assets/js/215.5f478880.js"><link rel="prefetch" href="/blog/assets/js/216.f1990223.js"><link rel="prefetch" href="/blog/assets/js/217.4f0002d6.js"><link rel="prefetch" href="/blog/assets/js/218.1ebb365c.js"><link rel="prefetch" href="/blog/assets/js/219.e895b4b4.js"><link rel="prefetch" href="/blog/assets/js/22.10048574.js"><link rel="prefetch" href="/blog/assets/js/220.0bde54b7.js"><link rel="prefetch" href="/blog/assets/js/221.40d18f8d.js"><link rel="prefetch" href="/blog/assets/js/222.de2d8c15.js"><link rel="prefetch" href="/blog/assets/js/223.98359f1d.js"><link rel="prefetch" href="/blog/assets/js/224.10eb7b02.js"><link rel="prefetch" href="/blog/assets/js/225.bbc28cd7.js"><link rel="prefetch" href="/blog/assets/js/226.d956a74e.js"><link rel="prefetch" href="/blog/assets/js/227.698f6ee6.js"><link rel="prefetch" href="/blog/assets/js/228.63ee50cc.js"><link rel="prefetch" href="/blog/assets/js/229.b9f12d0e.js"><link rel="prefetch" href="/blog/assets/js/23.736c36fb.js"><link rel="prefetch" href="/blog/assets/js/230.160989ee.js"><link rel="prefetch" href="/blog/assets/js/231.e9fc614f.js"><link rel="prefetch" href="/blog/assets/js/232.09680974.js"><link rel="prefetch" href="/blog/assets/js/233.0b65fbee.js"><link rel="prefetch" href="/blog/assets/js/234.812382ac.js"><link rel="prefetch" href="/blog/assets/js/235.96ed847d.js"><link rel="prefetch" href="/blog/assets/js/236.1b7d21d9.js"><link rel="prefetch" href="/blog/assets/js/237.fd37c628.js"><link rel="prefetch" href="/blog/assets/js/238.b0a306e1.js"><link rel="prefetch" href="/blog/assets/js/239.29816201.js"><link rel="prefetch" href="/blog/assets/js/24.328221fb.js"><link rel="prefetch" href="/blog/assets/js/240.27ff7069.js"><link rel="prefetch" href="/blog/assets/js/241.d209581a.js"><link rel="prefetch" href="/blog/assets/js/242.4c9ff8ec.js"><link rel="prefetch" href="/blog/assets/js/243.977d4f2e.js"><link rel="prefetch" href="/blog/assets/js/244.a8efd7cb.js"><link rel="prefetch" href="/blog/assets/js/245.ef45f9be.js"><link rel="prefetch" href="/blog/assets/js/246.7f700f85.js"><link rel="prefetch" href="/blog/assets/js/247.df65ebb7.js"><link rel="prefetch" href="/blog/assets/js/248.197a8ac5.js"><link rel="prefetch" href="/blog/assets/js/249.bfda2705.js"><link rel="prefetch" href="/blog/assets/js/25.0ee891e6.js"><link rel="prefetch" href="/blog/assets/js/250.050376cc.js"><link rel="prefetch" href="/blog/assets/js/251.60cab832.js"><link rel="prefetch" href="/blog/assets/js/252.95d834d4.js"><link rel="prefetch" href="/blog/assets/js/253.42d40bc3.js"><link rel="prefetch" href="/blog/assets/js/254.1bde8cd1.js"><link rel="prefetch" href="/blog/assets/js/255.896d172a.js"><link rel="prefetch" href="/blog/assets/js/256.fe03a501.js"><link rel="prefetch" href="/blog/assets/js/257.5e4bc841.js"><link rel="prefetch" href="/blog/assets/js/258.2b9e8d1e.js"><link rel="prefetch" href="/blog/assets/js/259.d930ddfd.js"><link rel="prefetch" href="/blog/assets/js/26.c848430e.js"><link rel="prefetch" href="/blog/assets/js/260.1a7df354.js"><link rel="prefetch" href="/blog/assets/js/261.5ae465e5.js"><link rel="prefetch" href="/blog/assets/js/262.1301e18f.js"><link rel="prefetch" href="/blog/assets/js/263.e8152983.js"><link rel="prefetch" href="/blog/assets/js/264.54763d42.js"><link rel="prefetch" href="/blog/assets/js/265.197e4ff1.js"><link rel="prefetch" href="/blog/assets/js/266.5bb41ca7.js"><link rel="prefetch" href="/blog/assets/js/267.4ccc2952.js"><link rel="prefetch" href="/blog/assets/js/268.6c55874d.js"><link rel="prefetch" href="/blog/assets/js/269.16d4a1b6.js"><link rel="prefetch" href="/blog/assets/js/27.5ca08dc3.js"><link rel="prefetch" href="/blog/assets/js/270.062302a3.js"><link rel="prefetch" href="/blog/assets/js/271.f468a365.js"><link rel="prefetch" href="/blog/assets/js/272.7475f532.js"><link rel="prefetch" href="/blog/assets/js/273.0d63a7c5.js"><link rel="prefetch" href="/blog/assets/js/274.578eba27.js"><link rel="prefetch" href="/blog/assets/js/275.1f15360b.js"><link rel="prefetch" href="/blog/assets/js/276.f88b5eb0.js"><link rel="prefetch" href="/blog/assets/js/277.fbd7bc5a.js"><link rel="prefetch" href="/blog/assets/js/278.5aa0b66a.js"><link rel="prefetch" href="/blog/assets/js/279.37efe52d.js"><link rel="prefetch" href="/blog/assets/js/28.a492c74d.js"><link rel="prefetch" href="/blog/assets/js/280.08d98529.js"><link rel="prefetch" href="/blog/assets/js/281.10153dc3.js"><link rel="prefetch" href="/blog/assets/js/282.e5f74d64.js"><link rel="prefetch" href="/blog/assets/js/283.5c392061.js"><link rel="prefetch" href="/blog/assets/js/284.66399a0d.js"><link rel="prefetch" href="/blog/assets/js/285.5dc7dced.js"><link rel="prefetch" href="/blog/assets/js/286.7472a08f.js"><link rel="prefetch" href="/blog/assets/js/287.e3cdd175.js"><link rel="prefetch" href="/blog/assets/js/288.21067c33.js"><link rel="prefetch" href="/blog/assets/js/289.9e36a862.js"><link rel="prefetch" href="/blog/assets/js/29.eadbb91b.js"><link rel="prefetch" href="/blog/assets/js/290.21ac81c4.js"><link rel="prefetch" href="/blog/assets/js/291.de3f0b07.js"><link rel="prefetch" href="/blog/assets/js/292.91f191d1.js"><link rel="prefetch" href="/blog/assets/js/293.f48c5e4c.js"><link rel="prefetch" href="/blog/assets/js/294.f56eb1aa.js"><link rel="prefetch" href="/blog/assets/js/295.6ff86e37.js"><link rel="prefetch" href="/blog/assets/js/296.251d0cf1.js"><link rel="prefetch" href="/blog/assets/js/297.72ae5fbc.js"><link rel="prefetch" href="/blog/assets/js/298.912a5770.js"><link rel="prefetch" href="/blog/assets/js/299.c4c3b63b.js"><link rel="prefetch" href="/blog/assets/js/30.146ee850.js"><link rel="prefetch" href="/blog/assets/js/300.648c3383.js"><link rel="prefetch" href="/blog/assets/js/301.f1fd0ccc.js"><link rel="prefetch" href="/blog/assets/js/302.f7ac91ee.js"><link rel="prefetch" href="/blog/assets/js/303.f50c769e.js"><link rel="prefetch" href="/blog/assets/js/304.5a5924f1.js"><link rel="prefetch" href="/blog/assets/js/305.e78109af.js"><link rel="prefetch" href="/blog/assets/js/306.09a00b3d.js"><link rel="prefetch" href="/blog/assets/js/307.9fa922a5.js"><link rel="prefetch" href="/blog/assets/js/308.74419bea.js"><link rel="prefetch" href="/blog/assets/js/309.2c51491a.js"><link rel="prefetch" href="/blog/assets/js/31.80988661.js"><link rel="prefetch" href="/blog/assets/js/310.156ccd31.js"><link rel="prefetch" href="/blog/assets/js/311.069f1117.js"><link rel="prefetch" href="/blog/assets/js/312.6d459ca6.js"><link rel="prefetch" href="/blog/assets/js/313.6ae7fe1a.js"><link rel="prefetch" href="/blog/assets/js/314.3b47135c.js"><link rel="prefetch" href="/blog/assets/js/315.cba18b5b.js"><link rel="prefetch" href="/blog/assets/js/316.8d67ceb3.js"><link rel="prefetch" href="/blog/assets/js/317.31350d67.js"><link rel="prefetch" href="/blog/assets/js/318.29ad7071.js"><link rel="prefetch" href="/blog/assets/js/319.398d5045.js"><link rel="prefetch" href="/blog/assets/js/32.5a199b69.js"><link rel="prefetch" href="/blog/assets/js/320.b662d484.js"><link rel="prefetch" href="/blog/assets/js/321.b8a7b6e7.js"><link rel="prefetch" href="/blog/assets/js/322.8b0b5761.js"><link rel="prefetch" href="/blog/assets/js/323.4e6ceee7.js"><link rel="prefetch" href="/blog/assets/js/324.65d73c42.js"><link rel="prefetch" href="/blog/assets/js/325.dcbdeae1.js"><link rel="prefetch" href="/blog/assets/js/326.b22c3dfa.js"><link rel="prefetch" href="/blog/assets/js/327.f142e908.js"><link rel="prefetch" href="/blog/assets/js/328.253a21bb.js"><link rel="prefetch" href="/blog/assets/js/329.106d8581.js"><link rel="prefetch" href="/blog/assets/js/33.e7686e07.js"><link rel="prefetch" href="/blog/assets/js/330.529ff8ac.js"><link rel="prefetch" href="/blog/assets/js/331.37cc7ff0.js"><link rel="prefetch" href="/blog/assets/js/332.e9317511.js"><link rel="prefetch" href="/blog/assets/js/333.b5c7e46a.js"><link rel="prefetch" href="/blog/assets/js/334.2009974e.js"><link rel="prefetch" href="/blog/assets/js/335.bca289ec.js"><link rel="prefetch" href="/blog/assets/js/336.84f1154d.js"><link rel="prefetch" href="/blog/assets/js/337.8c97064c.js"><link rel="prefetch" href="/blog/assets/js/338.1d5c1357.js"><link rel="prefetch" href="/blog/assets/js/339.404240c7.js"><link rel="prefetch" href="/blog/assets/js/34.289f8b30.js"><link rel="prefetch" href="/blog/assets/js/340.024ff1f2.js"><link rel="prefetch" href="/blog/assets/js/341.1dee3e73.js"><link rel="prefetch" href="/blog/assets/js/342.e3a8d2f6.js"><link rel="prefetch" href="/blog/assets/js/343.de456d93.js"><link rel="prefetch" href="/blog/assets/js/344.5238d738.js"><link rel="prefetch" href="/blog/assets/js/345.74b731be.js"><link rel="prefetch" href="/blog/assets/js/346.4e4f49af.js"><link rel="prefetch" href="/blog/assets/js/347.2a4e7e0f.js"><link rel="prefetch" href="/blog/assets/js/348.3e73ee18.js"><link rel="prefetch" href="/blog/assets/js/349.d5f7a56f.js"><link rel="prefetch" href="/blog/assets/js/35.37abd4f4.js"><link rel="prefetch" href="/blog/assets/js/350.77e69f81.js"><link rel="prefetch" href="/blog/assets/js/351.dba0ef29.js"><link rel="prefetch" href="/blog/assets/js/352.750cf699.js"><link rel="prefetch" href="/blog/assets/js/353.f3be4eb7.js"><link rel="prefetch" href="/blog/assets/js/354.6b2a2669.js"><link rel="prefetch" href="/blog/assets/js/355.70868e6b.js"><link rel="prefetch" href="/blog/assets/js/356.0cc39cff.js"><link rel="prefetch" href="/blog/assets/js/357.2ee9aae8.js"><link rel="prefetch" href="/blog/assets/js/358.5b1c11e7.js"><link rel="prefetch" href="/blog/assets/js/359.a8b6bea3.js"><link rel="prefetch" href="/blog/assets/js/36.26eafdd6.js"><link rel="prefetch" href="/blog/assets/js/360.6ed495e2.js"><link rel="prefetch" href="/blog/assets/js/361.c101b410.js"><link rel="prefetch" href="/blog/assets/js/362.24750cde.js"><link rel="prefetch" href="/blog/assets/js/363.020c769d.js"><link rel="prefetch" href="/blog/assets/js/364.7523327f.js"><link rel="prefetch" href="/blog/assets/js/365.92f2559d.js"><link rel="prefetch" href="/blog/assets/js/366.ba082027.js"><link rel="prefetch" href="/blog/assets/js/367.4bdbca64.js"><link rel="prefetch" href="/blog/assets/js/368.79daafc9.js"><link rel="prefetch" href="/blog/assets/js/369.bb30cda0.js"><link rel="prefetch" href="/blog/assets/js/37.8c46f75a.js"><link rel="prefetch" href="/blog/assets/js/370.1cd1987a.js"><link rel="prefetch" href="/blog/assets/js/371.081732d4.js"><link rel="prefetch" href="/blog/assets/js/372.67807a93.js"><link rel="prefetch" href="/blog/assets/js/373.133b4c91.js"><link rel="prefetch" href="/blog/assets/js/374.a96fbb80.js"><link rel="prefetch" href="/blog/assets/js/375.ce2e2a09.js"><link rel="prefetch" href="/blog/assets/js/376.1acbe8f3.js"><link rel="prefetch" href="/blog/assets/js/377.6011b78c.js"><link rel="prefetch" href="/blog/assets/js/378.9411f001.js"><link rel="prefetch" href="/blog/assets/js/379.fc197684.js"><link rel="prefetch" href="/blog/assets/js/38.8036c832.js"><link rel="prefetch" href="/blog/assets/js/380.e682b0f7.js"><link rel="prefetch" href="/blog/assets/js/381.0150670b.js"><link rel="prefetch" href="/blog/assets/js/382.a2a73140.js"><link rel="prefetch" href="/blog/assets/js/383.67492a6d.js"><link rel="prefetch" href="/blog/assets/js/384.0c156684.js"><link rel="prefetch" href="/blog/assets/js/385.7a674006.js"><link rel="prefetch" href="/blog/assets/js/386.7db443e2.js"><link rel="prefetch" href="/blog/assets/js/387.861fc2ad.js"><link rel="prefetch" href="/blog/assets/js/388.53293f8b.js"><link rel="prefetch" href="/blog/assets/js/389.83de2a5a.js"><link rel="prefetch" href="/blog/assets/js/39.1fcc887a.js"><link rel="prefetch" href="/blog/assets/js/390.1b032dee.js"><link rel="prefetch" href="/blog/assets/js/391.5409d13c.js"><link rel="prefetch" href="/blog/assets/js/392.95ee1817.js"><link rel="prefetch" href="/blog/assets/js/393.bfbb4e02.js"><link rel="prefetch" href="/blog/assets/js/394.45f5f3ac.js"><link rel="prefetch" href="/blog/assets/js/395.d2bc26cb.js"><link rel="prefetch" href="/blog/assets/js/396.9b919efe.js"><link rel="prefetch" href="/blog/assets/js/397.63ae1728.js"><link rel="prefetch" href="/blog/assets/js/398.2e8cd381.js"><link rel="prefetch" href="/blog/assets/js/399.cce2bc74.js"><link rel="prefetch" href="/blog/assets/js/4.0a112c8e.js"><link rel="prefetch" href="/blog/assets/js/40.f03ea582.js"><link rel="prefetch" href="/blog/assets/js/400.bb8c8f36.js"><link rel="prefetch" href="/blog/assets/js/401.f6c8e368.js"><link rel="prefetch" href="/blog/assets/js/402.a707dd0b.js"><link rel="prefetch" href="/blog/assets/js/403.0246ef9d.js"><link rel="prefetch" href="/blog/assets/js/404.4e8fab18.js"><link rel="prefetch" href="/blog/assets/js/405.aac86c74.js"><link rel="prefetch" href="/blog/assets/js/406.ec295aee.js"><link rel="prefetch" href="/blog/assets/js/407.0c9bfe75.js"><link rel="prefetch" href="/blog/assets/js/408.90280ec4.js"><link rel="prefetch" href="/blog/assets/js/409.17f43c16.js"><link rel="prefetch" href="/blog/assets/js/41.14a66d79.js"><link rel="prefetch" href="/blog/assets/js/410.a8bcf7af.js"><link rel="prefetch" href="/blog/assets/js/411.1c299cf8.js"><link rel="prefetch" href="/blog/assets/js/412.993fde1e.js"><link rel="prefetch" href="/blog/assets/js/413.24086a2e.js"><link rel="prefetch" href="/blog/assets/js/414.669b21b7.js"><link rel="prefetch" href="/blog/assets/js/415.c6e0b851.js"><link rel="prefetch" href="/blog/assets/js/416.2c0b5a27.js"><link rel="prefetch" href="/blog/assets/js/417.035fbe19.js"><link rel="prefetch" href="/blog/assets/js/418.e9ba8e2d.js"><link rel="prefetch" href="/blog/assets/js/419.40436cbb.js"><link rel="prefetch" href="/blog/assets/js/42.7ca1a3b9.js"><link rel="prefetch" href="/blog/assets/js/420.a44f38b1.js"><link rel="prefetch" href="/blog/assets/js/421.d483449e.js"><link rel="prefetch" href="/blog/assets/js/422.85f0223d.js"><link rel="prefetch" href="/blog/assets/js/423.73b2df81.js"><link rel="prefetch" href="/blog/assets/js/424.c171262a.js"><link rel="prefetch" href="/blog/assets/js/425.84861e5f.js"><link rel="prefetch" href="/blog/assets/js/426.50769ad5.js"><link rel="prefetch" href="/blog/assets/js/427.4f055173.js"><link rel="prefetch" href="/blog/assets/js/428.f1a79a71.js"><link rel="prefetch" href="/blog/assets/js/429.0b1e1ae8.js"><link rel="prefetch" href="/blog/assets/js/43.7f730e4f.js"><link rel="prefetch" href="/blog/assets/js/430.98b90971.js"><link rel="prefetch" href="/blog/assets/js/431.ccab63f7.js"><link rel="prefetch" href="/blog/assets/js/432.b36287bb.js"><link rel="prefetch" href="/blog/assets/js/433.b629a88d.js"><link rel="prefetch" href="/blog/assets/js/434.94c5b829.js"><link rel="prefetch" href="/blog/assets/js/435.2f5ebc90.js"><link rel="prefetch" href="/blog/assets/js/436.af40a468.js"><link rel="prefetch" href="/blog/assets/js/437.1ac4edac.js"><link rel="prefetch" href="/blog/assets/js/438.4b5c3858.js"><link rel="prefetch" href="/blog/assets/js/439.b201f9e1.js"><link rel="prefetch" href="/blog/assets/js/44.6a0d0a24.js"><link rel="prefetch" href="/blog/assets/js/440.90bbfc9c.js"><link rel="prefetch" href="/blog/assets/js/441.edaf49dd.js"><link rel="prefetch" href="/blog/assets/js/442.46358509.js"><link rel="prefetch" href="/blog/assets/js/443.ac894823.js"><link rel="prefetch" href="/blog/assets/js/444.388b0fb5.js"><link rel="prefetch" href="/blog/assets/js/445.5d6dcd5a.js"><link rel="prefetch" href="/blog/assets/js/446.cd463a00.js"><link rel="prefetch" href="/blog/assets/js/447.fa3cf170.js"><link rel="prefetch" href="/blog/assets/js/448.d166f1a6.js"><link rel="prefetch" href="/blog/assets/js/449.9007f738.js"><link rel="prefetch" href="/blog/assets/js/45.ce2504cf.js"><link rel="prefetch" href="/blog/assets/js/450.0e3c2b8d.js"><link rel="prefetch" href="/blog/assets/js/451.77ec44a8.js"><link rel="prefetch" href="/blog/assets/js/452.65334147.js"><link rel="prefetch" href="/blog/assets/js/453.bd40db54.js"><link rel="prefetch" href="/blog/assets/js/454.c680bf9b.js"><link rel="prefetch" href="/blog/assets/js/455.d3ba9987.js"><link rel="prefetch" href="/blog/assets/js/456.ba670ab8.js"><link rel="prefetch" href="/blog/assets/js/457.a56c9694.js"><link rel="prefetch" href="/blog/assets/js/458.8c7575e6.js"><link rel="prefetch" href="/blog/assets/js/459.4f64a00d.js"><link rel="prefetch" href="/blog/assets/js/46.df740708.js"><link rel="prefetch" href="/blog/assets/js/460.12329cff.js"><link rel="prefetch" href="/blog/assets/js/461.eaac64b6.js"><link rel="prefetch" href="/blog/assets/js/462.e8791604.js"><link rel="prefetch" href="/blog/assets/js/463.b7a30366.js"><link rel="prefetch" href="/blog/assets/js/464.9405a358.js"><link rel="prefetch" href="/blog/assets/js/465.a2dc9a55.js"><link rel="prefetch" href="/blog/assets/js/466.069ca07c.js"><link rel="prefetch" href="/blog/assets/js/467.60978d4b.js"><link rel="prefetch" href="/blog/assets/js/468.3ff4f7cd.js"><link rel="prefetch" href="/blog/assets/js/469.35f3e9f1.js"><link rel="prefetch" href="/blog/assets/js/47.63e54aab.js"><link rel="prefetch" href="/blog/assets/js/470.2ae1c32a.js"><link rel="prefetch" href="/blog/assets/js/471.5b85826b.js"><link rel="prefetch" href="/blog/assets/js/472.0542f8ee.js"><link rel="prefetch" href="/blog/assets/js/473.817388b7.js"><link rel="prefetch" href="/blog/assets/js/474.24200d13.js"><link rel="prefetch" href="/blog/assets/js/475.c8782c45.js"><link rel="prefetch" href="/blog/assets/js/476.6db72d54.js"><link rel="prefetch" href="/blog/assets/js/477.95a3d492.js"><link rel="prefetch" href="/blog/assets/js/478.9c8e6497.js"><link rel="prefetch" href="/blog/assets/js/479.35f9bf3b.js"><link rel="prefetch" href="/blog/assets/js/48.83140357.js"><link rel="prefetch" href="/blog/assets/js/480.b51a5165.js"><link rel="prefetch" href="/blog/assets/js/481.4d8e51e2.js"><link rel="prefetch" href="/blog/assets/js/482.65cedab1.js"><link rel="prefetch" href="/blog/assets/js/483.ca1776b9.js"><link rel="prefetch" href="/blog/assets/js/484.33a33eff.js"><link rel="prefetch" href="/blog/assets/js/485.e465197e.js"><link rel="prefetch" href="/blog/assets/js/486.70acef33.js"><link rel="prefetch" href="/blog/assets/js/487.ee3fc769.js"><link rel="prefetch" href="/blog/assets/js/488.a63e51e5.js"><link rel="prefetch" href="/blog/assets/js/489.0f3c49d5.js"><link rel="prefetch" href="/blog/assets/js/49.d8832e95.js"><link rel="prefetch" href="/blog/assets/js/490.5712118b.js"><link rel="prefetch" href="/blog/assets/js/491.5375baa1.js"><link rel="prefetch" href="/blog/assets/js/492.37c94ed4.js"><link rel="prefetch" href="/blog/assets/js/493.9b961f5e.js"><link rel="prefetch" href="/blog/assets/js/494.feea28ac.js"><link rel="prefetch" href="/blog/assets/js/495.98ea50ff.js"><link rel="prefetch" href="/blog/assets/js/496.33d53d3c.js"><link rel="prefetch" href="/blog/assets/js/497.9de40aa3.js"><link rel="prefetch" href="/blog/assets/js/498.4cd030db.js"><link rel="prefetch" href="/blog/assets/js/499.05109d7f.js"><link rel="prefetch" href="/blog/assets/js/5.c0f04726.js"><link rel="prefetch" href="/blog/assets/js/50.2c216e5d.js"><link rel="prefetch" href="/blog/assets/js/500.7b8f1773.js"><link rel="prefetch" href="/blog/assets/js/501.dfbba9a8.js"><link rel="prefetch" href="/blog/assets/js/502.90f5bd1b.js"><link rel="prefetch" href="/blog/assets/js/503.9cefed56.js"><link rel="prefetch" href="/blog/assets/js/504.789de515.js"><link rel="prefetch" href="/blog/assets/js/505.e3eb2619.js"><link rel="prefetch" href="/blog/assets/js/506.26a895a8.js"><link rel="prefetch" href="/blog/assets/js/507.aece8a26.js"><link rel="prefetch" href="/blog/assets/js/508.82ef6fd3.js"><link rel="prefetch" href="/blog/assets/js/509.6617c24f.js"><link rel="prefetch" href="/blog/assets/js/51.9924df0f.js"><link rel="prefetch" href="/blog/assets/js/510.5251c4fc.js"><link rel="prefetch" href="/blog/assets/js/511.15d303a7.js"><link rel="prefetch" href="/blog/assets/js/512.ec4dbe26.js"><link rel="prefetch" href="/blog/assets/js/513.fee5a2b7.js"><link rel="prefetch" href="/blog/assets/js/514.3f48b9d4.js"><link rel="prefetch" href="/blog/assets/js/515.8e750dd4.js"><link rel="prefetch" href="/blog/assets/js/516.bc7ce9ec.js"><link rel="prefetch" href="/blog/assets/js/517.5c273689.js"><link rel="prefetch" href="/blog/assets/js/518.8204db0b.js"><link rel="prefetch" href="/blog/assets/js/519.4069fac5.js"><link rel="prefetch" href="/blog/assets/js/52.c6b270fd.js"><link rel="prefetch" href="/blog/assets/js/520.6052378c.js"><link rel="prefetch" href="/blog/assets/js/521.a84e2f70.js"><link rel="prefetch" href="/blog/assets/js/522.07f1fd3a.js"><link rel="prefetch" href="/blog/assets/js/523.81cd7c5a.js"><link rel="prefetch" href="/blog/assets/js/524.0c27a30c.js"><link rel="prefetch" href="/blog/assets/js/525.3d388127.js"><link rel="prefetch" href="/blog/assets/js/526.da896981.js"><link rel="prefetch" href="/blog/assets/js/53.37b57eac.js"><link rel="prefetch" href="/blog/assets/js/54.07db747b.js"><link rel="prefetch" href="/blog/assets/js/55.74ef4683.js"><link rel="prefetch" href="/blog/assets/js/56.2fef63ab.js"><link rel="prefetch" href="/blog/assets/js/57.ed0c5fb3.js"><link rel="prefetch" href="/blog/assets/js/58.ca7cbf9a.js"><link rel="prefetch" href="/blog/assets/js/59.3c22bc5a.js"><link rel="prefetch" href="/blog/assets/js/6.2297b244.js"><link rel="prefetch" href="/blog/assets/js/60.262e5867.js"><link rel="prefetch" href="/blog/assets/js/61.5636e75a.js"><link rel="prefetch" href="/blog/assets/js/62.7dd1d109.js"><link rel="prefetch" href="/blog/assets/js/63.d0773cdd.js"><link rel="prefetch" href="/blog/assets/js/64.997275ff.js"><link rel="prefetch" href="/blog/assets/js/65.07901344.js"><link rel="prefetch" href="/blog/assets/js/66.c464da45.js"><link rel="prefetch" href="/blog/assets/js/67.feffb1d6.js"><link rel="prefetch" href="/blog/assets/js/68.fcfe1349.js"><link rel="prefetch" href="/blog/assets/js/69.e895924e.js"><link rel="prefetch" href="/blog/assets/js/7.e4af8b84.js"><link rel="prefetch" href="/blog/assets/js/70.078c407f.js"><link rel="prefetch" href="/blog/assets/js/71.557206d7.js"><link rel="prefetch" href="/blog/assets/js/72.e1584320.js"><link rel="prefetch" href="/blog/assets/js/73.48a20011.js"><link rel="prefetch" href="/blog/assets/js/74.20421f04.js"><link rel="prefetch" href="/blog/assets/js/75.3b0e05dc.js"><link rel="prefetch" href="/blog/assets/js/76.2bf10aca.js"><link rel="prefetch" href="/blog/assets/js/77.02348743.js"><link rel="prefetch" href="/blog/assets/js/78.cfbc295c.js"><link rel="prefetch" href="/blog/assets/js/79.453eacb3.js"><link rel="prefetch" href="/blog/assets/js/8.d80735f1.js"><link rel="prefetch" href="/blog/assets/js/80.2b500eb9.js"><link rel="prefetch" href="/blog/assets/js/81.387b7278.js"><link rel="prefetch" href="/blog/assets/js/82.1aa40d78.js"><link rel="prefetch" href="/blog/assets/js/83.17f6510a.js"><link rel="prefetch" href="/blog/assets/js/84.db4405bb.js"><link rel="prefetch" href="/blog/assets/js/85.145ce263.js"><link rel="prefetch" href="/blog/assets/js/86.139ef9a8.js"><link rel="prefetch" href="/blog/assets/js/87.824e85b1.js"><link rel="prefetch" href="/blog/assets/js/88.bd8c36c2.js"><link rel="prefetch" href="/blog/assets/js/89.ff5dab67.js"><link rel="prefetch" href="/blog/assets/js/9.c2a5941b.js"><link rel="prefetch" href="/blog/assets/js/90.750d7f60.js"><link rel="prefetch" href="/blog/assets/js/91.f93ed10a.js"><link rel="prefetch" href="/blog/assets/js/92.a9ecf2e9.js"><link rel="prefetch" href="/blog/assets/js/93.ac344da4.js"><link rel="prefetch" href="/blog/assets/js/94.57871314.js"><link rel="prefetch" href="/blog/assets/js/95.32361ad9.js"><link rel="prefetch" href="/blog/assets/js/96.fa531423.js"><link rel="prefetch" href="/blog/assets/js/97.f3eaaba1.js"><link rel="prefetch" href="/blog/assets/js/98.a6622376.js"><link rel="prefetch" href="/blog/assets/js/99.d04a5a4b.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b6bbc000.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/images/learn.png" alt="zouyu-Blog" class="logo"> <span class="site-name can-hide">zouyu-Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记文章" class="dropdown-title"><span class="title">笔记文章</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记文章" class="mobile-dropdown-title"><span class="title">笔记文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/SpringCloud/" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-item"><!----> <a href="/blog/Deploy/Jenkins/Jenkins/" class="nav-link">
  Jenkins
</a></li><li class="dropdown-item"><!----> <a href="/blog/Deploy/" class="nav-link router-link-active">
  Deploy
</a></li></ul></div></div><div class="nav-item"><a href="/blog/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="邹宇的Blog" class="dropdown-title"><span class="title">邹宇的Blog</span> <span class="arrow down"></span></button> <button type="button" aria-label="邹宇的Blog" class="mobile-dropdown-title"><span class="title">邹宇的Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/mqyqingfeng/Blog/issues/235" target="_blank" rel="noopener noreferrer" class="nav-link external">
  搭建
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zouyu0310.github.io/chatGPT_html/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  chatGPT
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="官方文档学习" class="dropdown-title"><span class="title">官方文档学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="官方文档学习" class="mobile-dropdown-title"><span class="title">官方文档学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.vuepress.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  跳转
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记文章" class="dropdown-title"><span class="title">笔记文章</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记文章" class="mobile-dropdown-title"><span class="title">笔记文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/SpringCloud/" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-item"><!----> <a href="/blog/Deploy/Jenkins/Jenkins/" class="nav-link">
  Jenkins
</a></li><li class="dropdown-item"><!----> <a href="/blog/Deploy/" class="nav-link router-link-active">
  Deploy
</a></li></ul></div></div><div class="nav-item"><a href="/blog/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="邹宇的Blog" class="dropdown-title"><span class="title">邹宇的Blog</span> <span class="arrow down"></span></button> <button type="button" aria-label="邹宇的Blog" class="mobile-dropdown-title"><span class="title">邹宇的Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/mqyqingfeng/Blog/issues/235" target="_blank" rel="noopener noreferrer" class="nav-link external">
  搭建
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://zouyu0310.github.io/chatGPT_html/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  chatGPT
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="官方文档学习" class="dropdown-title"><span class="title">官方文档学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="官方文档学习" class="mobile-dropdown-title"><span class="title">官方文档学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.vuepress.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  跳转
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>About</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Business</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Database</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Deploy</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/Deploy/" aria-current="page" class="sidebar-link">Deploy笔记</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Docker</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/Deploy/Docker/01.Docker.html" class="sidebar-link">Docker - 知识体系</a></li><li><a href="/blog/Deploy/Docker/02.Docker - 概述.html" class="sidebar-link">Docker - 概述</a></li><li><a href="/blog/Deploy/Docker/04.Docker - 安装.html" class="sidebar-link">Docker - 安装</a></li><li><a href="/blog/Deploy/Docker/05.Docker - 镜像和容器.html" class="sidebar-link">Docker  - 镜像和容器</a></li><li><a href="/blog/Deploy/Docker/06.Docker - 常用命令.html" class="sidebar-link">Docker - 常用命令</a></li><li><a href="/blog/Deploy/Docker/08.Docker - 可视化.html" class="sidebar-link">Docker - 可视化</a></li><li><a href="/blog/Deploy/Docker/10.Docker - 镜像和仓库.html" class="sidebar-link">Docker - 镜像和仓库</a></li><li><a href="/blog/Deploy/Docker/100.Docker-汇总.html" class="sidebar-link">Docker - 汇总文档</a></li><li><a href="/blog/Deploy/Docker/12.Docker - 数据卷.html" class="sidebar-link">Docker - 容器数据卷</a></li><li><a href="/blog/Deploy/Docker/14.Docker - DockerFile.html" class="sidebar-link">Docker - DockerFile</a></li><li><a href="/blog/Deploy/Docker/16.Docker - 网络.html" class="sidebar-link">Docker - 网络</a></li><li><a href="/blog/Deploy/Docker/18.Docker - Compose.html" class="sidebar-link">Docker - Compose</a></li><li><a href="/blog/Deploy/Docker/20.Docker - 中间件安装.html" class="sidebar-link">Docker - 常用中间件安装</a></li><li><a href="/blog/Deploy/Docker/50.IDEA使用Docker插件.html" class="sidebar-link">Docker - IDEA-docker插件</a></li><li><a href="/blog/Deploy/Docker/51.Docker - windows硬盘映射.html" class="sidebar-link">Docker - windows硬盘映射</a></li><li><a href="/blog/Deploy/Docker/52.Docker - windows 安装.html" class="sidebar-link">52.Docker - windows 安装</a></li><li><a href="/blog/Deploy/Docker/53.Docker - windows安装docker-compose.html" class="sidebar-link">53.Docker - windows安装docker-compose</a></li><li><a href="/blog/Deploy/Docker/docker/50.IDEA使用Docker插件.html" class="sidebar-link">IDEA使用Docker插件</a></li><li><a href="/blog/Deploy/Docker/docker/DockerFile.html" class="sidebar-link">高级02 DockerFile</a></li><li><a href="/blog/Deploy/Docker/docker/Docker安装.html" class="sidebar-link">Docker安装</a></li><li><a href="/blog/Deploy/Docker/docker/docker-master/Docker.html" aria-current="page" class="active sidebar-link">/Deploy/Docker/docker/docker-master/Docker.html</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/Deploy/Docker/尚硅谷Docker学习0929/docker学习.html" class="sidebar-link">将应用打包成镜像</a></li><li><a href="/blog/Deploy/Docker/尚硅谷Docker学习0929/k8s.html" class="sidebar-link">k8s</a></li><li><a href="/blog/Deploy/Docker/尚硅谷Docker学习0929/k8s核心实战.html" class="sidebar-link">Kubernetes核心实战</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Jenkins</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Interview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MQ</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Other</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Server</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring Boot</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring Cloud</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Work Doc</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>尚硅谷 Redis</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214049.png" alt="1586333742105"></p> <blockquote><p>Author：Eric</p> <p>Version：9.0.1</p></blockquote> <p>[TOC]</p> <h3 id="一、引言"><a href="#一、引言" class="header-anchor">#</a> 一、引言</h3> <hr> <h4 id="_1-1-环境不一致"><a href="#_1-1-环境不一致" class="header-anchor">#</a> 1.1 环境不一致</h4> <blockquote><p>我本地运行没问题啊：由于环境不一致，导致相同的程序，运行结果却不一致。</p></blockquote> <h4 id="_1-2-隔离性"><a href="#_1-2-隔离性" class="header-anchor">#</a> 1.2 隔离性</h4> <blockquote><p>哪个哥们又写死循环了，怎么这么卡：在多用户的操作系统下，会因为其他用户的操作失误影响到你自己编些的程序。</p></blockquote> <h4 id="_1-3-弹性伸缩"><a href="#_1-3-弹性伸缩" class="header-anchor">#</a> 1.3 弹性伸缩</h4> <blockquote><p>淘宝在双11的时候，用户量暴增：需要很多很多的运维人员去增加部署的服务器，运维成本过高的问题。</p></blockquote> <h4 id="_1-4-学习成本"><a href="#_1-4-学习成本" class="header-anchor">#</a> 1.4 学习成本</h4> <blockquote><p>学习一门技术，得先安装啊：学习每一门技术都要先安装响应的软件，但是还有他所依赖的各种环境，安装软件成本快高过学习成本啦。</p></blockquote> <h3 id="二、docker介绍"><a href="#二、docker介绍" class="header-anchor">#</a> 二、Docker介绍</h3> <hr> <h4 id="_2-1-docker的由来"><a href="#_2-1-docker的由来" class="header-anchor">#</a> 2.1 Docker的由来</h4> <blockquote><p>一帮年轻人创业，创办了一家公司，2010年的专门做PAAS平台。但是到了2013年的时候，像亚马逊，微软，Google都开始做PAAS平台。到了2013年，公司资金链断裂，不得不倒闭，于是将公司内的核心技术对外开源，核心技术就是Docker。由于开源了Docker，到了2014年的时候，得到了C轮的融资 $4000W，2015年的时候，得到了D轮的融资.$9500W。于是公司开始全神贯注的维护Docker。</p></blockquote> <table><thead><tr><th style="text-align:center;">Docker主要作者-所罗门</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214113.png" alt="1586340594252"></td></tr></tbody></table> <table><thead><tr><th style="text-align:center;">Docker的作者已经离开了维护Docker的团队</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214109.png" alt="1586340639934"></td></tr></tbody></table> <h4 id="_2-2-docker的思想"><a href="#_2-2-docker的思想" class="header-anchor">#</a> 2.2 Docker的思想</h4> <blockquote><ul><li><p>集装箱：会将所有需要的内容放到不同的集装箱中，谁需要这些环境就直接拿到这个集装箱就可以了。</p></li> <li><p>标准化：</p> <ul><li>运输的标准化：Docker有一个码头，所有上传的集装箱都放在了这个码头上，当谁需要某一个环境，就直接指派大海疼去搬运这个集装箱就可以了。</li> <li>命令的标准化：Docker提供了一些列的命令，帮助我们去获取集装箱等等操作。</li> <li>提供了REST的API：衍生出了很多的图形化界面，Rancher。</li></ul></li> <li><p>隔离性：Docker在运行集装箱内的内容时，会在Linux的内核中，单独的开辟一片空间，这片空间不会影响到其他程序。</p></li> <li><p>中央仓库|注册中心：超级码头，上面放的就是集装箱</p></li> <li><p>镜像：就是集装箱</p></li> <li><p>容器：运行起来的镜像</p></li></ul></blockquote> <p>仓库：是存放镜像的场所，dockerhub是最大的开源仓库，可以通过docker  search   查找所需镜像并通过docker  pull拉取</p> <p>镜像：docker 真正的操作对象</p> <p>容器：docker run 启动镜像会变成容器，容器顶层为一个可操作层，修改不会影响镜像。每个镜像可以启动生成多个容器。
具体操作以及关系如下：</p> <img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214117.png" alt="img" style="zoom:150%;"> <h3 id="三、docker的安装"><a href="#三、docker的安装" class="header-anchor">#</a> 三、Docker的安装</h3> <hr> <h4 id="_3-1-下载docker依赖的环境"><a href="#_3-1-下载docker依赖的环境" class="header-anchor">#</a> 3.1 下载Docker依赖的环境</h4> <blockquote><p>想安装Docker，需要先将依赖的环境全部下载，就像Maven依赖JDK一样</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> yum-utils device-mapper-persistent-data lvm2
</code></pre></div><h4 id="_3-2-指定docker镜像源"><a href="#_3-2-指定docker镜像源" class="header-anchor">#</a> 3.2 指定Docker镜像源</h4> <blockquote><p>默认下载Docker回去国外服务器下载，速度较慢，我们可以设置为阿里云镜像源，速度更快</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code>yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</code></pre></div><h4 id="_3-3-安装docker"><a href="#_3-3-安装docker" class="header-anchor">#</a> 3.3 安装Docker</h4> <blockquote><p>依然采用yum的方式安装</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code>yum makecache fast
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> docker-ce
</code></pre></div><h4 id="_3-4-启动docker并测试"><a href="#_3-4-启动docker并测试" class="header-anchor">#</a> 3.4 启动Docker并测试</h4> <blockquote><p>安装成功后，需要手动启动，设置为开机自启，并测试一下Docker</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 启动Docker服务</span>
systemctl start <span class="token function">docker</span>
<span class="token comment"># 设置开机自动启动</span>
systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
<span class="token comment"># 测试</span>
<span class="token function">docker</span> run hello-world
</code></pre></div><h3 id="四、docker的中央仓库【重点】"><a href="#四、docker的中央仓库【重点】" class="header-anchor">#</a> 四、Docker的中央仓库【<code>重点</code>】</h3> <hr> <blockquote><ul><li><p>Docker官方的中央仓库：这个仓库是镜像最全的，但是下载速度较慢。</p> <p>https://hub.docker.com/</p></li> <li><p>国内的镜像网站：网易蜂巢，daoCloud等，下载速度快，但是镜像相对不全。</p> <p>https://c.163yun.com/hub#/home</p> <p>http://hub.daocloud.io/     （推荐使用）</p></li> <li><p>在公司内部会采用私服的方式拉取镜像，需要添加配置，如下……</p></li></ul></blockquote> <div class="language-json extra-class"><pre class="language-json"><code>公司私服配置阿里云镜像仓库
https<span class="token operator">:</span><span class="token comment">//cr.console.aliyun.com/cn-hangzhou/instances/mirrors</span>

# 需要创建/etc/docker/daemon.json，并添加如下内容
<span class="token punctuation">{</span>
	<span class="token property">&quot;registry-mirrors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;https://registry.docker-cn.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token property">&quot;insecure-registries&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;ip:port&quot;</span><span class="token punctuation">]</span>   
<span class="token punctuation">}</span>
# 重启两个服务
systemctl daemon-reload
systemctl restart docker

#注：上面配置中ip和port需要自己公司的ip和端口
</code></pre></div><h3 id="五、镜像的操作【重点】"><a href="#五、镜像的操作【重点】" class="header-anchor">#</a> 五、镜像的操作【<code>重点</code>】</h3> <hr> <h4 id="_5-1-拉取镜像"><a href="#_5-1-拉取镜像" class="header-anchor">#</a> 5.1 拉取镜像</h4> <blockquote><p>从中央仓库拉取镜像到本地</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> pull 镜像名称<span class="token punctuation">[</span>:tag<span class="token punctuation">]</span>

<span class="token comment"># 举个栗子：docker pull daocloud.io/library/tomcat:8.5.15-jre8</span>
<span class="token comment">#注：上述中括号可写可不写,如果不写就把默认版本拉取下来。镜像名称可以直接从daocloud拉取，如果不写就默认从中央仓库，速度太慢。</span>
</code></pre></div><h4 id="_5-2-查看本地全部镜像"><a href="#_5-2-查看本地全部镜像" class="header-anchor">#</a> 5.2 查看本地全部镜像</h4> <blockquote><p>查看本地已经安装过的镜像信息，包含标识，名称，版本，更新时间，大小</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> images
</code></pre></div><p><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527125443.png" alt="在这里插入图片描述"></p> <p>TAG：版本
IMAGE ID：唯一表示id
CREATED：在中央仓库的创建时间</p> <h4 id="_5-3-删除本地镜像"><a href="#_5-3-删除本地镜像" class="header-anchor">#</a> 5.3 删除本地镜像</h4> <blockquote><p>镜像会占用磁盘空间，可以直接手动删除，表示通过查看获取</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> rmi 镜像的标识 --<span class="token operator">&gt;</span>（IMAGE ID镜像标识或者CONTAINER ID镜像名称）
</code></pre></div><p>注：镜像标识只需要分辨出来就行，不用写的特别全。
出现</p> <div class="language- extra-class"><pre class="language-text"><code>&gt;Error response from daemon: conflict: unable to delete d1165f221234 (must be forced) - image is being used by stopped container a223324f36fe
</code></pre></div><p>说明正在运行不能删除，需要停止。</p> <p><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527125606.png" alt="在这里插入图片描述"></p> <h4 id="_5-4-镜像的导入导出"><a href="#_5-4-镜像的导入导出" class="header-anchor">#</a> 5.4 镜像的导入导出</h4> <blockquote><p>如果因为网络原因可以通过硬盘的方式传输镜像，虽然不规范，但是有效，但是这种方式导出的镜像名称和版本都是null，需要手动修改，方便后面操作</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 将本地的镜像导出</span>
<span class="token function">docker</span> save <span class="token parameter variable">-o</span> 导出的路径 镜像id
<span class="token comment"># 加载本地的镜像文件</span>
<span class="token function">docker</span> load <span class="token parameter variable">-i</span> 镜像文件
<span class="token comment"># 修改镜像名称</span>
<span class="token function">docker</span> tag 镜像id 新镜像名称:版本
</code></pre></div><p>例子：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 把tomcat镜像导出到当前文件夹下名字为tomcat_image</span>
<span class="token function">docker</span> save <span class="token parameter variable">-o</span> ./tomcat_image b8
<span class="token comment"># 加载</span>
<span class="token function">docker</span> load <span class="token parameter variable">-i</span> tomcat_image
<span class="token comment"># 修改镜像名称</span>
<span class="token function">docker</span> tag b8 tomcat:8.5
</code></pre></div><p>发现repository名为null，可以进行修改</p> <p><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527131349.png" alt="image-20210527131332148"></p> <p>修改后：</p> <p><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527131915.png" alt="image-20210527131913914"></p> <h3 id="六、容器操作【重点】"><a href="#六、容器操作【重点】" class="header-anchor">#</a> 六、容器操作【<code>重点</code>】</h3> <hr> <h4 id="_6-1-运行容器"><a href="#_6-1-运行容器" class="header-anchor">#</a> 6.1 运行容器</h4> <p>容器就是运行起来的镜像。</p> <blockquote><p>运行容器需要制定具体镜像，如果镜像不存在，会直接下载</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 简单操作</span>
<span class="token function">docker</span> run 镜像的标识<span class="token operator">|</span>镜像名称<span class="token punctuation">[</span>:tag<span class="token punctuation">]</span>
（如果本地有 就写表示  如果本地没有就通过镜像名称<span class="token punctuation">[</span>:tag<span class="token punctuation">]</span>在仓库里拉取）
<span class="token comment"># 常用的参数</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> 宿主机端口:容器端口 <span class="token parameter variable">--name</span> 容器名称 镜像的标识<span class="token operator">|</span>镜像名称<span class="token punctuation">[</span>:tag<span class="token punctuation">]</span>
<span class="token comment"># -d：代表在后台运行容器（如果不需要查看日志 可以-d）</span>
<span class="token comment"># -p 宿主机端口:容器端口---&gt;为了映射当前Linux的端口和容器的端口</span>
<span class="token comment"># --name 容器（容器跑在虚拟机的docker引擎上）名称：指定容器的名称</span>
</code></pre></div><p>举例：</p> <p><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527133855.png" alt="image-20210527133853829"></p> <div class="language- extra-class"><pre class="language-text"><code># 运行tomcat镜像,虚拟机端口8081,容器端口8080，名字标识是tomcat1
docker run -d -p 8081:8080 --name tomcat1 b8
</code></pre></div><p>访问虚拟机的8081端口，是可以被访问到的</p> <p><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527134104.png" alt="image-20210527134055682"></p> <h4 id="_6-2-查看正在运行的容器"><a href="#_6-2-查看正在运行的容器" class="header-anchor">#</a> 6.2 查看正在运行的容器</h4> <blockquote><p>查看全部正在运行的容器信息</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> <span class="token function">ps</span> <span class="token punctuation">[</span>-qa<span class="token punctuation">]</span>
<span class="token comment"># -a：查看全部的容器，包括没有运行</span>
<span class="token comment"># -q：只查看容器的标识</span>
</code></pre></div><p><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527134904.png" alt="image-20210527134904470"></p> <div class="language-sh extra-class"><pre class="language-sh"><code>CONTAINER ID: 容器 ID。

IMAGE: 使用的镜像。

COMMAND: 启动容器时运行的命令。

CREATED: 容器的创建时间。

STATUS: 容器状态。

PORTS: 容器的端口信息和使用的连接类型（tcp<span class="token punctuation">\</span>udp<span class="token punctuation">)</span>,映射状态

NAMES: 自动分配的容器名称。
</code></pre></div><p>小结：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 查看正在运行的容器</span>
<span class="token function">docker</span> <span class="token function">ps</span>
<span class="token comment"># 查看全部容器</span>
<span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span>
<span class="token comment"># 查看正在运行容器的标识</span>
<span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-q</span>
<span class="token comment"># 查看容器标识</span>
<span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-qa</span>
</code></pre></div><h4 id="_6-3-查看容器日志"><a href="#_6-3-查看容器日志" class="header-anchor">#</a> 6.3 查看容器日志</h4> <blockquote><p>查看容器日志，以查看容器运行的信息</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> logs <span class="token parameter variable">-f</span> 容器id
<span class="token comment"># -f：可以滚动查看日志的最后几行</span>
如查看tomcat容器运行log
<span class="token function">docker</span> logs <span class="token parameter variable">-f</span> fd
</code></pre></div><h4 id="_6-4-进入容器内容部"><a href="#_6-4-进入容器内容部" class="header-anchor">#</a> 6.4 进入容器内容部</h4> <p>容器就是docker在linux内核中创建了一部分空间运行服务，也可以进入操作，但是一般不进入操作，一般用于查看容器中文件的存放路径，可使用ls -l查看文件</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> 容器id <span class="token function">bash</span>
</code></pre></div><p><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527140238.png" alt="image-20210527140238276"></p> <p>使用exit指令退出容器，回到宿主机。</p> <h4 id="_6-5-复制内容到容器"><a href="#_6-5-复制内容到容器" class="header-anchor">#</a> 6.5 复制内容到容器</h4> <blockquote><p>将宿主机的文件复制到容器内部的指定目录</p> <p>（可以把容器与宿主机看成两台不同的小电脑 实际容器是在宿主机内又运行起来的一个独立的 Linux）</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> <span class="token function">cp</span> 文件名称 容器id:容器内部路径
</code></pre></div><h4 id="_6-6-重启-启动-停止-删除容器"><a href="#_6-6-重启-启动-停止-删除容器" class="header-anchor">#</a> 6.6 重启&amp;启动&amp;停止&amp;删除容器</h4> <blockquote><p>容器的启动，停止，删除等操作，后续经常会使用到</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 重新启动容器</span>
<span class="token function">docker</span> restart 容器id

<span class="token comment"># 启动停止运行的容器</span>
<span class="token function">docker</span> start 容器id

<span class="token comment"># 停止指定的容器（删除容器前，需要先停止容器）</span>
<span class="token function">docker</span> stop 容器id
<span class="token comment"># 停止全部容器</span>
<span class="token function">docker</span> stop <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-qa</span><span class="token variable">)</span></span>

<span class="token comment"># 删除指定容器</span>
<span class="token function">docker</span> <span class="token function">rm</span> 容器id
<span class="token comment"># 删除全部容器</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-qa</span><span class="token variable">)</span></span>
</code></pre></div><p><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527144254.png" alt="image-20210527144254011"></p> <h3 id="七、docker应用"><a href="#七、docker应用" class="header-anchor">#</a> 七、Docker应用</h3> <hr> <h4 id="_7-1-docker安装tomcat"><a href="#_7-1-docker安装tomcat" class="header-anchor">#</a> 7.1 Docker安装Tomcat</h4> <blockquote><p>运行Tomcat容器，为部署SSM工程做准备</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 <span class="token parameter variable">--name</span> tomcat daocloud.io/library/tomcat:8.5.15-jre8
</code></pre></div><h4 id="_7-2-docker安装mysql"><a href="#_7-2-docker安装mysql" class="header-anchor">#</a> 7.2 Docker安装MySQL</h4> <blockquote><p>运行MySQL容器，为部署SSM工程做准备，此时docker中并没有mysql，它会自动去下载！</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">--name</span> mysql <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>root daocloud.io/library/mysql:5.7.4
</code></pre></div><p>此时用Navicat可以进行连接测试</p> <p>参考:</p> <div class="language- extra-class"><pre class="language-text"><code>https://www.cnblogs.com/ybyn/p/13698058.html
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>docker run --restart=unless-stopped -d --name mysql -v /etc/my.cnf:/etc/my.cnf -v /data/mysql:/data/mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=Qianyan89892528 mysql
</code></pre></div><p><img src="https://gitee.com/zouyu0310/image1/raw/master/img/20210527221720.png" alt="image-20210527221712451"></p> <h4 id="_7-3-部署ssm工程"><a href="#_7-3-部署ssm工程" class="header-anchor">#</a> 7.3 部署SSM工程</h4> <blockquote><ul><li>修改SSM工程环境，设置为Linux中Docker容器的信息</li> <li>通过Maven的package重新打成war包</li> <li>讲Windows下的war包复制到Linux中</li> <li>通过docker命令将宿主机的war包复制到容器内部</li> <li>测试访问SSM工程</li></ul></blockquote> <p>环境准备好之后把war包复制到容器的tomcat中</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 复制命令</span>
<span class="token function">docker</span> <span class="token function">cp</span> 文件名称 容器id:容器内部路径
<span class="token comment"># 例子</span>
<span class="token function">docker</span> <span class="token function">cp</span> ssm.war b00:/usr/local/tomcat/webapps/
</code></pre></div><p><img src="https://gitee.com/zouyu0310/image1/raw/master/img/20210527230334.png" alt="image-20210527230332962"></p> <p><img src="https://gitee.com/zouyu0310/image1/raw/master/img/20210527230439.png" alt="image-20210527230438750"></p> <h3 id="八、数据卷【重点】"><a href="#八、数据卷【重点】" class="header-anchor">#</a> 八、数据卷【<code>重点</code>】</h3> <hr> <blockquote><p>为了部署SSM的工程，需要使用到cp的命令将宿主机内的ssm.war文件复制到容器内部。</p> <p>数据卷：将宿主机的一个目录映射到容器的一个目录中。</p> <p>可以在宿主机中操作目录中的内容，那么容器内部映射的文件，也会跟着一起改变。</p></blockquote> <p>也就是说不建议在docker容器中修改任何信息，此时可以使用数据卷把宿主机目录内容映射到容器中。实现一起改变。</p> <h4 id="_8-1-创建数据卷"><a href="#_8-1-创建数据卷" class="header-anchor">#</a> 8.1 创建数据卷</h4> <blockquote><p>创建数据卷之后，默认会存放在一个目录下 /var/lib/docker/volumes/数据卷名称/_data</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> volume create 数据卷名称
<span class="token comment"># 例子：</span>
<span class="token function">docker</span> volume create tomcat
</code></pre></div><p>注意：是在宿主机下创建数据卷。</p> <h4 id="_8-2-查看数据卷详情"><a href="#_8-2-查看数据卷详情" class="header-anchor">#</a> 8.2 查看数据卷详情</h4> <blockquote><p>查看数据卷的详细信息，可以查询到存放路径，创建时间等等</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> volume inspect 数据卷名称
</code></pre></div><h4 id="_8-3-查看全部数据卷"><a href="#_8-3-查看全部数据卷" class="header-anchor">#</a> 8.3 查看全部数据卷</h4> <blockquote><p>查看全部数据卷信息</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> volume <span class="token function">ls</span>
</code></pre></div><h4 id="_8-4-删除数据卷"><a href="#_8-4-删除数据卷" class="header-anchor">#</a> 8.4 删除数据卷</h4> <blockquote><p>删除指定数据卷</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> volume <span class="token function">rm</span> 数据卷名称
</code></pre></div><h4 id="_8-5-容器映射数据卷"><a href="#_8-5-容器映射数据卷" class="header-anchor">#</a> 8.5 容器映射数据卷</h4> <blockquote><p>映射有两种方式：</p> <ul><li>通过数据卷名称映射，如果数据卷不存在。Docker会帮你自动创建，会将容器内部自带的文件，存储在默认的存放路径中。</li> <li>通过路径映射数据卷，直接指定一个路径作为数据卷的存放位置。但是这个路径下是空的。</li></ul></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 通过数据卷名称映射</span>
<span class="token function">docker</span> run <span class="token parameter variable">-v</span> 数据卷名称:容器内部的路径 镜像id
<span class="token comment"># 通过路径映射数据卷（推荐使用）</span>
<span class="token function">docker</span> run <span class="token parameter variable">-v</span> 路径:容器内部的路径 镜像id
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>宿主机的一个端口只能映射到容器内部的某一个端口上，比如：8080-&gt;80之后，就不能8080-&gt;81
容器内部的某个端口可以被宿主机的多个端口映射,比如：8080-&gt;80，8090-&gt;80,8099-&gt;80
</code></pre></div><h3 id="九、dockerfile自定义镜像【重点】"><a href="#九、dockerfile自定义镜像【重点】" class="header-anchor">#</a> 九、Dockerfile自定义镜像【<code>重点</code>】</h3> <hr> <blockquote><p>我们可以从中央仓库下载一个镜像，也可以自己手动去制作一个镜像，需要通过Dockerfile去指定自定义镜像的信息</p></blockquote> <h4 id="_9-1-dockerfile"><a href="#_9-1-dockerfile" class="header-anchor">#</a> 9.1 Dockerfile</h4> <blockquote><p>创建自定义镜像就需要创建一个Dockerfile，如下为Dockerfile的语言</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code>from: 指定当前自定义镜像依赖的环境 指定基础镜像 一切从这里开始 
copy: 将相对路径下的内容复制到自定义镜像中
workdir: 声明镜像的默认工作目录
run: 执行的命令，可以编写多个
cmd: 需要执行的命令（在workdir下执行的，cmd可以写多个，只以最后一个为准）

<span class="token comment"># 举个例子，制作SSM容器镜像，而且ssm.war要放在Dockerfile的同级目录下（自定义tomcat）</span>
from daocloud.io/library/tomcat:8.5.15-jre8
copy ssm.war /usr/local/tomcat/webapps<span class="token comment">#(写在Dockerfile里)</span>
</code></pre></div><h4 id="_9-2-通过dockerfile制作镜像"><a href="#_9-2-通过dockerfile制作镜像" class="header-anchor">#</a> 9.2 通过Dockerfile制作镜像</h4> <blockquote><p>编写完Dockerfile后需要通过命令将其制作为镜像，并且要在Dockerfile的当前目录下，之后即可在镜像中查看到指定的镜像信息，注意最后的 <a href="">.</a></p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> build <span class="token parameter variable">-t</span> 镜像名称<span class="token punctuation">[</span>:tag<span class="token punctuation">]</span> <span class="token builtin class-name">.</span>
<span class="token comment"># 该命令要和Dockerfile文件在同一个目录下执行</span>
</code></pre></div><h3 id="十-docker-compose【重点】"><a href="#十-docker-compose【重点】" class="header-anchor">#</a> 十. Docker-Compose【<code>重点</code>】</h3> <hr> <blockquote><p>之前运行一个镜像，需要添加大量的参数,可以通过Docker-Compose编写这些参数。而且Docker-Compose可以帮助我们批量的管理容器。这些信息只需要通过一个docker-compose.yml文件去维护即可。</p></blockquote> <h4 id="_10-1-下载并安装docker-compose"><a href="#_10-1-下载并安装docker-compose" class="header-anchor">#</a> 10.1 下载并安装Docker-Compose</h4> <h5 id="_10-1-1-下载docker-compose"><a href="#_10-1-1-下载docker-compose" class="header-anchor">#</a> 10.1.1 下载Docker-Compose</h5> <blockquote><p>去github官网搜索docker-compose，下载1.24.1版本的Docker-Compose</p> <p>下载路径：<a href="">https://github.com/docker/compose/releases/download/1.24.1/docker-compose-Linux-x86_64</a></p></blockquote> <h5 id="_10-1-2-设置权限"><a href="#_10-1-2-设置权限" class="header-anchor">#</a> 10.1.2 设置权限</h5> <blockquote><p>需要将DockerCompose文件的名称修改一下，给予DockerCompose文件一个可执行的权限</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">mv</span> docker-compose-Linux-x86_64 <span class="token function">docker-compose</span>
<span class="token function">chmod</span> <span class="token number">777</span> <span class="token function">docker-compose</span>
</code></pre></div><h5 id="_10-1-3-配置环境变量"><a href="#_10-1-3-配置环境变量" class="header-anchor">#</a> 10.1.3 配置环境变量</h5> <blockquote><p>方便后期操作，配置一个环境变量</p> <p>将docker-compose文件移动到了/usr/local/bin , 修改了/etc/profile文件，给/usr/local/bin配置到了PATH中</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">mv</span> <span class="token function">docker-compose</span> /usr/local/bin

<span class="token function">vi</span> /etc/profile
<span class="token comment"># 添加内容： export PATH=$JAVA_HOME:/usr/local/bin:$PATH</span>

<span class="token builtin class-name">source</span> /etc/profile
</code></pre></div><h5 id="_10-1-4-测试"><a href="#_10-1-4-测试" class="header-anchor">#</a> 10.1.4 测试</h5> <blockquote><p>在任意目录下输入docker-composedocker-compose</p></blockquote> <table><thead><tr><th style="text-align:center;">测试效果</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214146.png" alt="1586420176720"></td></tr></tbody></table> <h4 id="_10-2-docker-compose管理mysql和tomcat容器"><a href="#_10-2-docker-compose管理mysql和tomcat容器" class="header-anchor">#</a> 10.2 Docker-Compose管理MySQL和Tomcat容器</h4> <blockquote><p>yml文件以key: value方式来指定配置信息</p> <p>多个配置信息以换行+缩进的方式来区分</p> <p>在docker-compose.yml文件中，不要使用制表符</p></blockquote> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.1'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">mysql</span><span class="token punctuation">:</span>           <span class="token comment"># 服务的名称</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always   <span class="token comment"># 代表只要docker启动，那么这个容器就跟着一起启动</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> daocloud.io/library/mysql<span class="token punctuation">:</span>5.7.4  <span class="token comment"># 指定镜像路径</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> mysql  <span class="token comment"># 指定容器名称</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 3306<span class="token punctuation">:</span><span class="token number">3306</span>   <span class="token comment">#  指定端口号的映射</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> root   <span class="token comment"># 指定MySQL的ROOT用户登录密码</span>
      <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai        <span class="token comment"># 指定时区</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
     <span class="token punctuation">-</span> /opt/docker_mysql_tomcat/mysql_data<span class="token punctuation">:</span>/var/lib/mysql   <span class="token comment"># 映射数据卷</span>
  <span class="token key atrule">tomcat</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">image</span><span class="token punctuation">:</span> daocloud.io/library/tomcat<span class="token punctuation">:</span>8.5.15<span class="token punctuation">-</span>jre8
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> tomcat
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8080<span class="token punctuation">:</span><span class="token number">8080</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /opt/docker_mysql_tomcat/tomcat_webapps<span class="token punctuation">:</span>/usr/local/tomcat/webapps
      <span class="token punctuation">-</span> /opt/docker_mysql_tomcat/tomcat_logs<span class="token punctuation">:</span>/usr/local/tomcat/logs
</code></pre></div><h4 id="_10-3-使用docker-compose命令管理容器"><a href="#_10-3-使用docker-compose命令管理容器" class="header-anchor">#</a> 10.3 使用docker-compose命令管理容器</h4> <blockquote><p>在使用docker-compose的命令时 ，默认会在当前目录下找docker-compose.yml文件</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 1. 基于docker-compose.yml启动管理的容器</span>
<span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span>

<span class="token comment"># 2. 关闭并删除容器</span>
<span class="token function">docker-compose</span> down

<span class="token comment"># 3. 开启|关闭|重启已经存在的由docker-compose维护的容器</span>
<span class="token function">docker-compose</span> start<span class="token operator">|</span>stop<span class="token operator">|</span>restart

<span class="token comment"># 4. 查看由docker-compose管理的容器</span>
<span class="token function">docker-compose</span> <span class="token function">ps</span>

<span class="token comment"># 5. 查看日志</span>
<span class="token function">docker-compose</span> logs <span class="token parameter variable">-f</span>
</code></pre></div><h4 id="_10-4-docker-compose配合dockerfile使用"><a href="#_10-4-docker-compose配合dockerfile使用" class="header-anchor">#</a> 10.4 docker-compose配合Dockerfile使用</h4> <blockquote><p>使用docker-compose.yml文件以及Dockerfile文件在生成自定义镜像的同时启动当前镜像，并且由docker-compose去管理容器</p></blockquote> <h5 id="_10-4-1-docker-compose文件"><a href="#_10-4-1-docker-compose文件" class="header-anchor">#</a> 10.4.1 docker-compose文件</h5> <blockquote><p>编写docker-compose.yml文件</p></blockquote> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token comment"># yml文件</span>
<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.1'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">ssm</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">build</span><span class="token punctuation">:</span>            <span class="token comment"># 构建自定义镜像</span>
      <span class="token key atrule">context</span><span class="token punctuation">:</span> ../      <span class="token comment"># 指定dockerfile文件的所在路径</span>
      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> Dockerfile   <span class="token comment"># 指定Dockerfile文件名称</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> ssm<span class="token punctuation">:</span>1.0.1
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> ssm
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8081<span class="token punctuation">:</span><span class="token number">8080</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai
</code></pre></div><h5 id="_10-4-2-dockerfile文件"><a href="#_10-4-2-dockerfile文件" class="header-anchor">#</a> 10.4.2 Dockerfile文件</h5> <blockquote><p>编写Dockerfile文件</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>from daocloud.io/library/tomcat:8.5.15-jre8
copy ssm.war /usr/local/tomcat/webapps
</code></pre></div><h5 id="_10-4-3-运行"><a href="#_10-4-3-运行" class="header-anchor">#</a> 10.4.3 运行</h5> <blockquote><p>测试效果</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 可以直接启动基于docker-compose.yml以及Dockerfile文件构建的自定义镜像</span>
<span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span>
<span class="token comment"># 如果自定义镜像不存在，会帮助我们构建出自定义镜像，如果自定义镜像已经存在，会直接运行这个自定义镜像</span>
<span class="token comment"># 重新构建的话。</span>
<span class="token comment"># 重新构建自定义镜像</span>
<span class="token function">docker-compose</span> build
<span class="token comment"># 运行当前内容，并重新构建</span>
<span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span> <span class="token parameter variable">--build</span>
</code></pre></div><h3 id="十一-docker-ci、cd"><a href="#十一-docker-ci、cd" class="header-anchor">#</a> 十一. Docker CI、CD</h3> <hr> <h4 id="_11-1-ci、cd引言"><a href="#_11-1-ci、cd引言" class="header-anchor">#</a> 11.1 CI、CD引言</h4> <blockquote><p>项目部署</p> <ul><li>将项目通过maven进行编译打包</li> <li>将文件上传到指定的服务器中</li> <li>将war包放到tomcat的目录中</li> <li>通过Dockerfile将Tomcat和war包转成一个镜像，由DockerCompose去运行容器</li></ul> <p>项目更新后，需要将上述流程再次的从头到尾的执行一次，如果每次更新一次都执行一次上述操作，很费时，费力。我们就可以通过CI、CD帮助我们实现持续集成，持续交付和部署。</p></blockquote> <h4 id="_11-2-ci介绍"><a href="#_11-2-ci介绍" class="header-anchor">#</a> 11.2 CI介绍</h4> <blockquote><p>CI（continuous intergration）持续集成</p> <p>持续集成：编写代码时，完成了一个功能后，立即提交代码到Git仓库中，将项目重新的构建并且测试。</p> <ul><li>快速发现错误。</li> <li>防止代码偏离主分支。</li></ul></blockquote> <h4 id="_11-3-搭建gitlab服务器"><a href="#_11-3-搭建gitlab服务器" class="header-anchor">#</a> 11.3 搭建Gitlab服务器</h4> <blockquote><p>实现CI，需要使用到Gitlab远程仓库，先通过Docker搭建Gitlab</p></blockquote> <h5 id="_11-3-1-准备工作"><a href="#_11-3-1-准备工作" class="header-anchor">#</a> 11.3.1 准备工作</h5> <blockquote><ul><li>创建一个全新的虚拟机，并且至少指定4G的运行内存，4G运行内存是Gitlab推荐的内存大小。</li> <li>并且安装Docker以及Docker-Compose</li></ul></blockquote> <h5 id="_11-3-2-修改ssh的22端口"><a href="#_11-3-2-修改ssh的22端口" class="header-anchor">#</a> 11.3.2 修改ssh的22端口</h5> <blockquote><p>将ssh的默认22端口，修改为60022端口，因为Gitlab需要占用22端口</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>vi /etc/ssh/sshd_config
  PORT 22 -&gt; 60022
systemctl restart sshd
</code></pre></div><h5 id="_11-3-3-编写docker-compose-yml"><a href="#_11-3-3-编写docker-compose-yml" class="header-anchor">#</a> 11.3.3 编写docker-compose.yml</h5> <blockquote><p>docker-compose.yml文件去安装gitlab（下载和运行的时间比较长的）</p></blockquote> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.1'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
 <span class="token key atrule">gitlab</span><span class="token punctuation">:</span>
  <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">'twang2218/gitlab-ce-zh:11.1.4'</span>
  <span class="token key atrule">container_name</span><span class="token punctuation">:</span> <span class="token string">&quot;gitlab&quot;</span>
  <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
  <span class="token key atrule">privileged</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">hostname</span><span class="token punctuation">:</span> <span class="token string">'gitlab'</span>
  <span class="token key atrule">environment</span><span class="token punctuation">:</span>
   <span class="token key atrule">TZ</span><span class="token punctuation">:</span> <span class="token string">'Asia/Shanghai'</span>
   <span class="token key atrule">GITLAB_OMNIBUS_CONFIG</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
    external_url 'http://192.168.199.110'
    gitlab_rails['time_zone'] = 'Asia/Shanghai'
    gitlab_rails['smtp_enable'] = true
    gitlab_rails['gitlab_shell_ssh_port'] = 22</span>
  <span class="token key atrule">ports</span><span class="token punctuation">:</span>
   <span class="token punctuation">-</span> <span class="token string">'80:80'</span>
   <span class="token punctuation">-</span> <span class="token string">'443:443'</span>
   <span class="token punctuation">-</span> <span class="token string">'22:22'</span>
  <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
   <span class="token punctuation">-</span> /opt/docker_gitlab/config<span class="token punctuation">:</span>/etc/gitlab
   <span class="token punctuation">-</span> /opt/docker_gitlab/data<span class="token punctuation">:</span>/var/opt/gitlab
   <span class="token punctuation">-</span> /opt/docker_gitlab/logs<span class="token punctuation">:</span>/var/log/gitlab
</code></pre></div><h4 id="_11-4-搭建gitlabrunner"><a href="#_11-4-搭建gitlabrunner" class="header-anchor">#</a> 11.4 搭建GitlabRunner</h4> <blockquote><p>查看资料中的gitlab-runner文件即可安装</p></blockquote> <h4 id="_11-5-整合项目入门测试"><a href="#_11-5-整合项目入门测试" class="header-anchor">#</a> 11.5 整合项目入门测试</h4> <h5 id="_11-5-1-创建项目"><a href="#_11-5-1-创建项目" class="header-anchor">#</a> 11.5.1 创建项目</h5> <blockquote><p>创建maven工程，添加web.xml文件，编写html页面</p></blockquote> <h5 id="_11-5-2-编写-gitlab-ci-yml"><a href="#_11-5-2-编写-gitlab-ci-yml" class="header-anchor">#</a> 11.5.2 编写.gitlab-ci.yml</h5> <blockquote><p>编写<a href="">.gitlab-ci.yml</a>文件</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>stages:
  - test

test:
  stage: test
  script:
    - echo first test ci   # 输入的命令
</code></pre></div><h5 id="_11-5-3-将maven工程推送到gitlab中"><a href="#_11-5-3-将maven工程推送到gitlab中" class="header-anchor">#</a> 11.5.3 将maven工程推送到gitlab中</h5> <blockquote><p>执行git命令推送到Gitlab</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> push origin master
</code></pre></div><h5 id="_11-5-4-查看效果"><a href="#_11-5-4-查看效果" class="header-anchor">#</a> 11.5.4 查看效果</h5> <blockquote><p>可以在gitlab中查看到gitlab-ci.yml编写的内容</p></blockquote> <table><thead><tr><th style="text-align:center;">效果图</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214156.png" alt="1588671760385"></td></tr></tbody></table> <h4 id="_11-6-完善项目配置"><a href="#_11-6-完善项目配置" class="header-anchor">#</a> 11.6 完善项目配置</h4> <blockquote><p>添加Dockerfile以及docker-compose.yml， 并修改<a href="">.gitlab-ci.yml</a>文件</p></blockquote> <h5 id="_11-6-1-创建dockerfile"><a href="#_11-6-1-创建dockerfile" class="header-anchor">#</a> 11.6.1 创建Dockerfile</h5> <div class="language- extra-class"><pre class="language-text"><code># Dockerfile
FROM daocloud.io/library/tomcat:8.5.15-jre8
COPY testci.war /usr/local/tomcat/webapps
</code></pre></div><h5 id="_11-6-2-创建docker-compose-yml"><a href="#_11-6-2-创建docker-compose-yml" class="header-anchor">#</a> 11.6.2 创建docker-compose.yml</h5> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token comment"># docker-compose.yml</span>
<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.1&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">testci</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span> docker
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> testci
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8080<span class="token punctuation">:</span><span class="token number">8080</span>
</code></pre></div><h5 id="_11-6-3-修改-gitlab-ci-yml"><a href="#_11-6-3-修改-gitlab-ci-yml" class="header-anchor">#</a> 11.6.3 修改.gitlab-ci.yml</h5> <div class="language- extra-class"><pre class="language-text"><code># ci.yml
stages:
  - test

test:
  stage: test
  script:
    - echo first test ci
    - /usr/local/maven/apache-maven-3.6.3/bin/mvn package
    - cp target/testci-1.0-SNAPSHOT.war docker/testci.war
    - docker-compose down
    - docker-compose up -d --build
    - docker rmi $(docker images -qf dangling=true)
</code></pre></div><h5 id="_11-6-4-测试"><a href="#_11-6-4-测试" class="header-anchor">#</a> 11.6.4 测试</h5> <table><thead><tr><th style="text-align:center;">测试效果</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214200.png" alt="1588674040060"></td></tr></tbody></table> <h4 id="_11-7-cd介绍"><a href="#_11-7-cd介绍" class="header-anchor">#</a> 11.7 CD介绍</h4> <blockquote><p>CD（持续交付，持续部署）</p> <p>持续交付：将代码交付给专业的测试团队去测试</p> <p>持续部署：可以直接将指定好tag的代码直接部署到生产环境中</p></blockquote> <table><thead><tr><th style="text-align:center;">CICD图</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214203.png" alt="1588677492583"></td></tr></tbody></table> <h4 id="_11-8-安装jenkins"><a href="#_11-8-安装jenkins" class="header-anchor">#</a> 11.8 安装Jenkins</h4> <h5 id="_11-8-1-编写docker-compose-yml"><a href="#_11-8-1-编写docker-compose-yml" class="header-anchor">#</a> 11.8.1 编写docker-compose.yml</h5> <blockquote><p>官网：https://www.jenkins.io/</p></blockquote> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.1&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">jenkins</span><span class="token punctuation">:</span>
   <span class="token key atrule">image</span><span class="token punctuation">:</span> jenkins/jenkins
   <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
   <span class="token key atrule">container_name</span><span class="token punctuation">:</span> jenkins
   <span class="token key atrule">ports</span><span class="token punctuation">:</span>
     <span class="token punctuation">-</span> 8888<span class="token punctuation">:</span><span class="token number">8080</span>
     <span class="token punctuation">-</span> 50000<span class="token punctuation">:</span><span class="token number">50000</span>
   <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
     <span class="token punctuation">-</span> ./data<span class="token punctuation">:</span>/var/jenkins_home
</code></pre></div><h5 id="_11-8-2-运行并访问jenkins"><a href="#_11-8-2-运行并访问jenkins" class="header-anchor">#</a> 11.8.2 运行并访问Jenkins</h5> <blockquote><p>第一次运行时，会因为data目录没有权限，导致启动失败</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>chmod 777 data
</code></pre></div><blockquote><p>访问http://192.168.199.109:8888</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>访问速度奇慢无比。。。。。
</code></pre></div><blockquote><p>访问成功后，需要输入密码，可在日志中查看</p></blockquote> <p><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214210.png" alt="1588679573467"></p> <blockquote><p>手动指定插件安装：指定下面两个插件即可</p> <p>publish ssh.</p> <p>git param.</p></blockquote> <p><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214212.png" alt="1588679653006"></p> <blockquote><p>安装成功后，需要指定上用户名和密码，登陆成功</p></blockquote> <p><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214218.png" alt="1588681196639"></p> <h4 id="_11-9-配置jenkins的目标服务器"><a href="#_11-9-配置jenkins的目标服务器" class="header-anchor">#</a> 11.9 配置Jenkins的目标服务器</h4> <blockquote><p>执行过程为代码提交到Gitlab，Jenkins会从Gitlab中拉取代码，并在Jenkins中打包并发布到目标服务器中。</p></blockquote> <h5 id="_11-9-1-点击左侧的系统设置"><a href="#_11-9-1-点击左侧的系统设置" class="header-anchor">#</a> 11.9.1 点击左侧的系统设置</h5> <table><thead><tr><th style="text-align:center;">左侧导航</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214229.png" alt="1588681954779"></td></tr></tbody></table> <h5 id="_11-9-2-选中中间区域的系统设置"><a href="#_11-9-2-选中中间区域的系统设置" class="header-anchor">#</a> 11.9.2 选中中间区域的系统设置</h5> <table><thead><tr><th style="text-align:center;">系统设置</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214232.png" alt="1588681970621"></td></tr></tbody></table> <h5 id="_11-9-3-搜索publish-over-ssh"><a href="#_11-9-3-搜索publish-over-ssh" class="header-anchor">#</a> 11.9.3 搜索Publish over SSH</h5> <table><thead><tr><th style="text-align:center;">Publish over SSH</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214235.png" alt="1588682011820"></td></tr></tbody></table> <h5 id="_11-9-4-点击上图新增"><a href="#_11-9-4-点击上图新增" class="header-anchor">#</a> 11.9.4 点击上图新增</h5> <table><thead><tr><th>新增SSH连接</th></tr></thead> <tbody><tr><td><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214239.png" alt="1588682092002"></td></tr></tbody></table> <h4 id="_11-10-配置gitlab免密码登录"><a href="#_11-10-配置gitlab免密码登录" class="header-anchor">#</a> 11.10 配置GitLab免密码登录</h4> <blockquote><p>链接Gitlab需要使用密码，我们可以通过SSH的方式，免密码登陆Gitlab拉取代码，避免每次都输入密码。</p></blockquote> <h5 id="_11-10-1登录jenkins容器内部"><a href="#_11-10-1登录jenkins容器内部" class="header-anchor">#</a> 11.10.1登录Jenkins容器内部</h5> <div class="language- extra-class"><pre class="language-text"><code>docker exec -it jenkins bash
</code></pre></div><h5 id="_11-10-2-输入生成ssh秘钥命令"><a href="#_11-10-2-输入生成ssh秘钥命令" class="header-anchor">#</a> 11.10.2 输入生成SSH秘钥命令</h5> <div class="language- extra-class"><pre class="language-text"><code>ssh-keygen -t rsa -C &quot;邮箱（随便写）&quot;
</code></pre></div><h5 id="_11-10-3将秘钥复制到gitlab的ssh中"><a href="#_11-10-3将秘钥复制到gitlab的ssh中" class="header-anchor">#</a> 11.10.3将秘钥复制到GitLab的SSH中</h5> <table><thead><tr><th style="text-align:center;">配置密钥</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214254.png" alt="1588683585249"></td></tr></tbody></table> <h4 id="_11-11-配置jdk和maven"><a href="#_11-11-配置jdk和maven" class="header-anchor">#</a> 11.11 配置JDK和Maven</h4> <blockquote><p>我们需要再Jenkins中将代码打包，需要依赖JDK和Maven的环境</p></blockquote> <h5 id="_11-11-1-复制软件到data目录下"><a href="#_11-11-1-复制软件到data目录下" class="header-anchor">#</a> 11.11.1 复制软件到data目录下</h5> <table><thead><tr><th style="text-align:center;">效果</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214257.png" alt="1588684490466"></td></tr></tbody></table> <h5 id="_11-11-2-在监控界面中配置jdk和maven"><a href="#_11-11-2-在监控界面中配置jdk和maven" class="header-anchor">#</a> 11.11.2 在监控界面中配置JDK和Maven</h5> <table><thead><tr><th style="text-align:center;">配置环境变量</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214301.png" alt="1588684458028"></td></tr></tbody></table> <h5 id="_11-11-3-手动拉取gitlab项目"><a href="#_11-11-3-手动拉取gitlab项目" class="header-anchor">#</a> 11.11.3 手动拉取gitlab项目</h5> <blockquote><p>使用SSH无密码连接时，第一次连接需要手动确定</p></blockquote> <table><thead><tr><th style="text-align:center;">手动拉取一次</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214305.png" alt="1588685220324"></td></tr></tbody></table> <h4 id="_11-12-创建maven任务"><a href="#_11-12-创建maven任务" class="header-anchor">#</a> 11.12 创建maven任务</h4> <blockquote><p>实现通过Jenkins的Maven任务，自动去Gitlab拉取代码，并在本地打包，发布到目标服务器上</p></blockquote> <h5 id="_11-12-1-创建maven工程-推送到gitlab中"><a href="#_11-12-1-创建maven工程-推送到gitlab中" class="header-anchor">#</a> 11.12.1 创建maven工程，推送到GitLab中</h5> <blockquote><p>随便创建一个即可……</p></blockquote> <h5 id="_11-12-2-jenkins的监控页面中创建maven任务"><a href="#_11-12-2-jenkins的监控页面中创建maven任务" class="header-anchor">#</a> 11.12.2 Jenkins的监控页面中创建maven任务</h5> <table><thead><tr><th style="text-align:center;">指定GitLab地址</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214309.png" alt="1588686481506"></td></tr></tbody></table> <table><thead><tr><th style="text-align:center;">指定maven打包方式</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214317.png" alt="1588686489821"></td></tr></tbody></table> <h5 id="_11-12-3-执行maven任务"><a href="#_11-12-3-执行maven任务" class="header-anchor">#</a> 11.12.3 执行maven任务</h5> <table><thead><tr><th style="text-align:center;">立即构建，并查看日志</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214313.png" alt="1588686591351"></td></tr></tbody></table> <table><thead><tr><th style="text-align:center;">控制台查看日志信息</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214330.png" alt="1588686553880"></td></tr></tbody></table> <h5 id="_11-12-4-最终效果"><a href="#_11-12-4-最终效果" class="header-anchor">#</a> 11.12.4 最终效果</h5> <table><thead><tr><th style="text-align:center;">打包成功</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214334.png" alt="1588687382594"></td></tr></tbody></table> <h4 id="_11-13-实现持续交付持续部署"><a href="#_11-13-实现持续交付持续部署" class="header-anchor">#</a> 11.13 实现持续交付持续部署</h4> <blockquote><p>实现根据tag标签，实现持续交付和持续部署</p></blockquote> <h5 id="_11-13-1-安装persistent-parameter的插件"><a href="#_11-13-1-安装persistent-parameter的插件" class="header-anchor">#</a> 11.13.1 安装Persistent Parameter的插件</h5> <table><thead><tr><th style="text-align:center;">安装插件</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214337.png" alt="1588693533099"></td></tr></tbody></table> <h5 id="_11-13-2-重新指定构建项目的方式"><a href="#_11-13-2-重新指定构建项目的方式" class="header-anchor">#</a> 11.13.2 重新指定构建项目的方式</h5> <table><thead><tr><th style="text-align:center;">根据标签构建项目</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214339.png" alt="1588696879059"></td></tr></tbody></table> <table><thead><tr><th style="text-align:center;">自定义构建</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214344.png" alt="1588697752850"></td></tr></tbody></table> <h5 id="_11-13-3-构建项目成功后-需要将内容发布到目标服务器"><a href="#_11-13-3-构建项目成功后-需要将内容发布到目标服务器" class="header-anchor">#</a> 11.13.3 构建项目成功后，需要将内容发布到目标服务器</h5> <table><thead><tr><th style="text-align:center;">发布服务器后执行的命令</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214349.png" alt="1588697770621"></td></tr></tbody></table> <h5 id="_11-13-4-添加程序代码"><a href="#_11-13-4-添加程序代码" class="header-anchor">#</a> 11.13.4 添加程序代码</h5> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token comment"># Dockerfile 文件</span>
FROM daocloud.io/library/tomcat<span class="token punctuation">:</span>8.5.15<span class="token punctuation">-</span>jre8
COPY testcd<span class="token punctuation">-</span>1.0<span class="token punctuation">-</span>SNAPSHOT.war /usr/local/tomcat/webapps

<span class="token comment"># docker-compose.yml文件</span>
<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.1&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">testcd</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span> docker
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> testcd
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8081<span class="token punctuation">:</span><span class="token number">8080</span>
</code></pre></div><h5 id="_11-13-5-测试"><a href="#_11-13-5-测试" class="header-anchor">#</a> 11.13.5 测试</h5> <table><thead><tr><th style="text-align:center;">根据标签修改发布版本</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="https://gitee.com/zouyu0310/images/raw/master/img/20210527214355.png" alt="1588700462690"></td></tr></tbody></table> <p>，</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/Deploy/Docker/docker/Docker安装.html" class="prev">
        Docker安装
      </a></span> <span class="next"><a href="/blog/Deploy/Docker/尚硅谷Docker学习0929/docker学习.html">
        将应用打包成镜像
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.5c484a50.js" defer></script><script src="/blog/assets/js/3.8dc6c122.js" defer></script><script src="/blog/assets/js/191.959d5f5f.js" defer></script>
  </body>
</html>
