(window.webpackJsonp=window.webpackJsonp||[]).push([[507],{1183:function(t,a,s){"use strict";s.r(a);var v=s(14),_=Object(v.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"案例演示-配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例演示-配置文件"}},[t._v("#")]),t._v(" 案例演示-配置文件")]),t._v(" "),a("h3",{attrs:{id:"架构说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#架构说明"}},[t._v("#")]),t._v(" 架构说明")]),t._v(" "),a("p",[t._v("一个Master两个Slave，三台虚拟机，每台都安装redis")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/3.jpg",alt:""}})]),t._v(" "),a("p",[t._v("拷贝多个redis.conf文件")]),t._v(" "),a("p",[t._v("redis6379.conf、redis6380.conf、redis6381.conf")]),t._v(" "),a("h3",{attrs:{id:"小口诀"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小口诀"}},[t._v("#")]),t._v(" 小口诀")]),t._v(" "),a("p",[t._v("三台虚拟机需要能相互ping通且需要注意防火墙配置")]),t._v(" "),a("p",[t._v("三大命令：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("主从复制")]),t._v(" "),a("p",[t._v("replicaof 主库IP 主库端口，配从(库)不配主(库)")])]),t._v(" "),a("li",[a("p",[t._v("改换门庭")]),t._v(" "),a("p",[t._v("slaveof 新主库IP 新主库端口")])]),t._v(" "),a("li",[a("p",[t._v("自立为王")]),t._v(" "),a("p",[t._v("slaveof no one")])])]),t._v(" "),a("h3",{attrs:{id:"修改配置文件细节操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件细节操作"}},[t._v("#")]),t._v(" 修改配置文件细节操作")]),t._v(" "),a("p",[t._v("redis6379.conf为例，步骤如下：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("开启daemonize yes")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/4.jpg",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("注释掉bind 127.0.0.1")])]),t._v(" "),a("li",[a("p",[t._v("protected-mode no")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/5.jpg",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("指定端口")])]),t._v(" "),a("li",[a("p",[t._v("指定当前工作目录，dir")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/6.jpg",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("pid文件名字，pidfile")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/7.jpg",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("log文件名字，logfile")]),t._v(" "),a("p",[a("strong",[t._v("如果日志文件和启动文件同级，这里可以配置为./6379.log，否则这里一定要写绝对路径，是个巨坑！！！")])]),t._v(" "),a("p",[a("img",{attrs:{src:"images/8.jpg",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("requiredpass")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/9.jpg",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("dump.rdb名字")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/10.jpg",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("aof文件，appendfilename")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/11.jpg",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("$\\textcolor{red}{从机访问主机的通行密码masterauth，必须配置}$")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/12.jpg",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("从机需要配置，主机不用")])])])])])}),[],!1,null,null,null);a.default=_.exports}}]);