(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{713:function(l,_,i){"use strict";i.r(_);var v=i(14),e=Object(v.a)({},(function(){var l=this,_=l._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[_("h2",{attrs:{id:"收银台"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#收银台"}},[l._v("#")]),l._v(" 收银台")]),l._v(" "),_("ul",[_("li",[l._v("数据获取\n"),_("ul",[_("li",[l._v("简称、姓名、全称、手机号、车牌")]),l._v(" "),_("li",[l._v("树结构\n"),_("ul",[_("li",[l._v("调用主要方法：cashier0311.js中loadConfig()\n"),_("ul",[_("li",[l._v("zyld()，判断节点是房间时\n"),_("ul",[_("li",[l._v("getBasicInformation(),获取房间基本信息\n"),_("ul",[_("li",[l._v("vm.getlist(),获取费用数据")])])]),l._v(" "),_("li",[l._v("getrooms()，判断是否多房间")])])]),l._v(" "),_("li",[l._v("getTreeByIds(),加载树结构子节点")])])])])])])]),l._v(" "),_("li",[l._v("字典表配置获取\n"),_("ul",[_("li",[l._v("加载cashier.html页面时获取数据")])])]),l._v(" "),_("li",[l._v("计算\n"),_("ul",[_("li",[l._v("触发计算方法（vm.calculates()）的操作有\n"),_("ul",[_("li",[l._v("勾选费用")]),l._v(" "),_("li",[l._v("选择优惠")]),l._v(" "),_("li",[l._v("减免违约金")]),l._v(" "),_("li",[l._v("使用预收款")]),l._v(" "),_("li",[l._v("使用积分")])])])])]),l._v(" "),_("li",[l._v("结算\n"),_("ul",[_("li",[l._v("收款时触发\n"),_("ul",[_("li",[l._v("不使用预收款receipt()方法/infee/cashier/receipt\n"),_("ul",[_("li",[l._v("结算时数据操作的顺序及动向\n"),_("ul",[_("li",[l._v("1.判断该年份fee_bill表是否存在，不存在则生成")]),l._v(" "),_("li",[l._v("2.处理找零转预存、积分冲抵的数据并插入到fee_list表中")]),l._v(" "),_("li",[l._v("3.将找零转预收、积分冲抵的费用实体类加到聚合数据list中（插入fee_bill表时使用）")]),l._v(" "),_("li",[l._v("4.循环处理结算选中的费用，更新fee_list 表")]),l._v(" "),_("li",[l._v("5.更新fee_list 表的同时，将该条数据插入到fee_success表中")]),l._v(" "),_("li",[l._v("6.将该条数据实体类加到聚合数据list中")]),l._v(" "),_("li",[l._v("7.将聚合数据list聚合插入fee_bill中")])])])])]),l._v(" "),_("li",[l._v("使用预收款costOffset()/infee/cashier/costOffset\n"),_("ul",[_("li",[l._v("结算时数据操作的顺序及动向\n"),_("ul",[_("li",[l._v("1.判断该年份fee_bill表是否存在，不存在则生成")]),l._v(" "),_("li",[l._v("2.获取可使用预收款的列表")]),l._v(" "),_("li",[l._v("3.循环处理结算选中的费用，更新fee_list 表，并将预收款冲抵的负值插入到fee_list中")]),l._v(" "),_("li",[l._v("4.更新fee_list 表的同时，将该条数据插入到fee_success表中")]),l._v(" "),_("li",[l._v("5.将该条数据实体类加到聚合数据list中")]),l._v(" "),_("li",[l._v("6.处理找零转预存、积分冲抵的数据并插入到fee_list表中")]),l._v(" "),_("li",[l._v("7.将找零转预收、积分冲抵的费用实体类加到聚合数据list中（插入fee_bill表时使用）")]),l._v(" "),_("li",[l._v("8.将聚合数据list聚合插入fee_bill中")])])])])])])]),l._v(" "),_("li",[l._v("扫码支付\n"),_("ul",[_("li",[l._v("银联")]),l._v(" "),_("li",[l._v("通联")]),l._v(" "),_("li",[l._v("山东银联")]),l._v(" "),_("li",[l._v("易通（客户：金正-强哥）")]),l._v(" "),_("li",[l._v("工行（客户：帝华-强哥）")]),l._v(" "),_("li",[l._v("德州农商行（客户：德州农商行-强哥）")])])])])])])])}),[],!1,null,null,null);_.default=e.exports}}]);