(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{707:function(s,t,v){"use strict";v.r(t);var _=v(14),a=Object(_.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"mysql-8-0-27安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql-8-0-27安装"}},[s._v("#")]),s._v(" mysql 8.0.27安装")]),s._v(" "),t("p",[s._v("删除")]),s._v(" "),t("p",[s._v("rpm -qa | grep -i mysql")]),s._v(" "),t("p",[s._v("rpm -e --nodeps  xx")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/zouyu0310/images/raw/master/img/20220110150414.png",alt:"img"}})]),s._v(" "),t("p",[s._v("上传文件到 /usr/local下")]),s._v(" "),t("p",[s._v("解压")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("tar -xvf mysql-8.0.27-1.el7.x86_64.rpm-bundle_2.tar\n")])])]),t("p",[s._v("安装")]),s._v(" "),t("p",[s._v("rpm -ivh mysql-community-common-8.0.27-1.el7.x86_64.rpm")]),s._v(" "),t("p",[s._v("rpm -ivh mysql-community-libs-8.0.27-1.el7.x86_64.rpm --force --nodeps")]),s._v(" "),t("p",[s._v("rpm -ivh mysql-community-client-8.0.27-1.el7.x86_64.rpm  --force --nodeps")]),s._v(" "),t("p",[s._v("rpm -ivh mysql-community-server-8.0.27-1.el7.x86_64.rpm")]),s._v(" "),t("p",[s._v("查版本")]),s._v(" "),t("p",[s._v("mysqladmin --version")]),s._v(" "),t("div",{staticClass:"language-css extra-class"},[t("pre",{pre:!0,attrs:{class:"language-css"}},[t("code",[s._v("mysqladmin  Ver 8.0.27 for Linux on x86_64 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("MySQL Community Server - GPL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("p",[s._v("my.cnf文件拷贝到服务器的 /etc 下")]),s._v(" "),t("h4",{attrs:{id:"创建目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建目录"}},[s._v("#")]),s._v(" "),t("strong",[s._v("创建目录")])]),s._v(" "),t("p",[s._v("l 用FTP创建即可")]),s._v(" "),t("p",[s._v("/data/mysql/lib/mysql")]),s._v(" "),t("p",[s._v("/data/mysql/log")]),s._v(" "),t("p",[s._v("/data/mysql/run/mysqld")]),s._v(" "),t("p",[s._v("/data/mysql/tmp")]),s._v(" "),t("h4",{attrs:{id:"目录授权-否则启动失败"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#目录授权-否则启动失败"}},[s._v("#")]),s._v(" "),t("strong",[s._v("目录授权，否则启动失败")])]),s._v(" "),t("p",[s._v("chown -R mysql:mysql /var")]),s._v(" "),t("p",[s._v("会连不上")]),s._v(" "),t("p",[s._v("ftp无法远程访问：执行!!!!!!!!!")]),s._v(" "),t("p",[s._v("chown -R root.root /var/empty/sshd")]),s._v(" "),t("p",[s._v("chmod 744 /var/empty/sshd")]),s._v(" "),t("p",[s._v("service sshd restart")]),s._v(" "),t("h4",{attrs:{id:"初始化数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化数据库"}},[s._v("#")]),s._v(" "),t("strong",[s._v("初始化数据库")])]),s._v(" "),t("p",[s._v("mysqld --initialize --console")]),s._v(" "),t("p",[s._v("我没报错 !")]),s._v(" "),t("h4",{attrs:{id:"启动服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动服务"}},[s._v("#")]),s._v(" "),t("strong",[s._v("启动服务")])]),s._v(" "),t("p",[s._v("systemctl start mysqld")]),s._v(" "),t("p",[s._v("报JOB错!!!!执行:")]),s._v(" "),t("p",[s._v("chown -R mysql:mysql /")]),s._v(" "),t("p",[s._v("会连不上")]),s._v(" "),t("p",[s._v("一定在执行")]),s._v(" "),t("p",[s._v("ftp无法远程访问：执行!!!!!!!!!")]),s._v(" "),t("p",[s._v("chown -R root.root /var/empty/sshd")]),s._v(" "),t("p",[s._v("chmod 744 /var/empty/sshd")]),s._v(" "),t("p",[s._v("service sshd restart")]),s._v(" "),t("p",[s._v("如果root 登录不上那就执行")]),s._v(" "),t("p",[s._v("chown -R root:root  /")]),s._v(" "),t("hr"),s._v(" "),t("h4",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])]),s._v(" "),t("h4",{attrs:{id:"查看初始化密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看初始化密码"}},[s._v("#")]),s._v(" "),t("strong",[s._v("查看初始化密码")])]),s._v(" "),t("p",[s._v("cat /data/mysql/log/mysqld.log | grep password")]),s._v(" "),t("h4",{attrs:{id:"登录mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#登录mysql"}},[s._v("#")]),s._v(" "),t("strong",[s._v("登录mysql")])]),s._v(" "),t("p",[s._v("mysql -u root -p")]),s._v(" "),t("p",[s._v("输入上一步查询到的初始化密码 输入时候看不见东西 输完敲回车即可")]),s._v(" "),t("h4",{attrs:{id:"修改初始密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改初始密码"}},[s._v("#")]),s._v(" "),t("strong",[s._v("修改初始密码")])]),s._v(" "),t("p",[s._v("ALTER USER root@localhost IDENTIFIED  BY 'Qianyan89892528';")]),s._v(" "),t("p",[s._v("flush privileges;")]),s._v(" "),t("p",[s._v("use mysql;")]),s._v(" "),t("p",[s._v("#修改加密规则")]),s._v(" "),t("p",[s._v("ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'Qianyan89892528';")]),s._v(" "),t("p",[s._v("ALTER USER 'root'@'localhost' IDENTIFIED BY 'Qianyan89892528' PASSWORD EXPIRE NEVER; #更新一下用户的密码")]),s._v(" "),t("p",[s._v("update user set host = '%' where user ='root';")]),s._v(" "),t("p",[s._v("#刷新权限")]),s._v(" "),t("p",[s._v("FLUSH PRIVILEGES;")])])}),[],!1,null,null,null);t.default=a.exports}}]);