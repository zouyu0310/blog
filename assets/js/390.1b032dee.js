(window.webpackJsonp=window.webpackJsonp||[]).push([[390],{1019:function(t,a,s){"use strict";s.r(a);var n=s(14),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"一、开启定时任务方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、开启定时任务方法"}},[t._v("#")]),t._v(" 一、开启定时任务方法")]),t._v(" "),a("p",[t._v("Scheduled定时任务是Spring boot自身提供的功能，所以不需要引入Maven依赖包\n在项目入口main方法上加注解")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@EnableScheduling")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//开启定时任务")]),t._v("\n")])])]),a("h1",{attrs:{id:"二、不同定时方式的解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、不同定时方式的解析"}},[t._v("#")]),t._v(" 二、不同定时方式的解析")]),t._v(" "),a("h3",{attrs:{id:"_1-fixeddelay和fixedrate-单位是毫秒-它们的区别就是"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-fixeddelay和fixedrate-单位是毫秒-它们的区别就是"}},[t._v("#")]),t._v(" 1.fixedDelay和fixedRate，单位是毫秒，它们的区别就是：")]),t._v(" "),a("p",[t._v("fixedRate就是每隔多长时间执行一次。(开始-------\x3eX时间------\x3e再开始)。如果间隔时间小于任务执行时间，上一次任务执行完成下一次任务就立即执行。如果间隔时间大于任务执行时间，就按照每隔X时间运行一次。\n而fixedDelay是当任务执行完毕后一段时间再次执行。（开始---\x3e结束(隔一分钟)开始-----\x3e结束）。上一次执行任务未完成，下一次任务不会开始。")]),t._v(" "),a("h3",{attrs:{id:"_2-cron表达式-灵活"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-cron表达式-灵活"}},[t._v("#")]),t._v(" 2.cron表达式：灵活")]),t._v(" "),a("p",[a("strong",[t._v("举例说明")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("表达式")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("0 0 3 * * ?")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("每天3点执行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("0 5 3 * * ?")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("每天3点5分执行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("0 5 3 ? * *")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("每天3点5分执行，与上面作用相同")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("0 5/10 3 * * ?")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("每天3点的 5分，15分，25分，35分，45分，55分这几个时间点执行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("0 10 3 ? * 1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("每周星期天，3点10分 执行，注：1表示星期天")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("0 10 3 ? * 1#3")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("每个月的第三个星期，星期天 执行，#号只能出现在星期的位置")])])])]),t._v(" "),a("ul",[a("li",[t._v("第一位，表示秒，取值0-59")]),t._v(" "),a("li",[t._v("第二位，表示分，取值0-59")]),t._v(" "),a("li",[t._v("第三位，表示小时，取值0-23")]),t._v(" "),a("li",[t._v("第四位，日期天/日，取值1-31")]),t._v(" "),a("li",[t._v("第五位，日期月份，取值1-12")]),t._v(" "),a("li",[t._v("第六位，星期，取值1-7，星期一，星期二...，注：不是第1周，第二周的意思，另外：1表示星期天，2表示星期一。")]),t._v(" "),a("li",[t._v("第七位，年份，可以留空，取值1970-2099")])]),t._v(" "),a("p",[a("strong",[t._v("cron中，还有一些特殊的符号，含义如下：")]),t._v("\n("),a("em",[t._v(")星号：可以理解为每的意思，每秒，每分，每天，每月，每年...\n(?)问号：问号只能出现在日期和星期这两个位置。\n(-)减号：表达一个范围，如在小时字段中使用“10-12”，则表示从10到12点，即10,11,12\n(,)逗号：表达一个列表值，如在星期字段中使用“1,2,4”，则表示星期一，星期二，星期四\n(/)斜杠：如：x/y，x是开始值，y是步长，比如在第一位（秒） 0/15就是，从0秒开始，每15秒，最后就是0，15，30，45，60 另：")]),t._v("/y，等同于0/y")]),t._v(" "),a("p",[t._v("cron表达式在线：http://cron.qqe2.com/")]),t._v(" "),a("h1",{attrs:{id:"三、实现定时任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、实现定时任务"}},[t._v("#")]),t._v(" 三、实现定时任务")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Component")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScheduledJobs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//表示方法执行完成后5秒再开始执行")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Scheduled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fixedDelay"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fixedDelayJob")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fixedDelay 开始:"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fixedDelay 结束:"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//表示每隔3秒")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Scheduled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fixedRate"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fixedRateJob")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"===========fixedRate 开始:"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"===========fixedRate 结束:"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//表示每隔10秒执行一次")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Scheduled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cron"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0/10 * * * * ? "')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cronJob")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"=========================== ...>>cron...."')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("运行结果如下：从运行结果上看，并未按照预期的时间规律运行。仔细看线程打印，竟然所有的定时任务使用的都是一个线程，所以彼此互相影响。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("===========fixedRate 结束:Tue Jul 09 19:53:04 CST 2019pool-1-thread-1\nfixedDelay 开始:Tue Jul 09 19:53:04 CST 2019pool-1-thread-1\nfixedDelay 结束:Tue Jul 09 19:53:14 CST 2019pool-1-thread-1\n===========fixedRate 开始:Tue Jul 09 19:53:14 CST 2019pool-1-thread-1\n===========fixedRate 结束:Tue Jul 09 19:53:16 CST 2019pool-1-thread-1\n===========fixedRate 开始:Tue Jul 09 19:53:16 CST 2019pool-1-thread-1\n===========fixedRate 结束:Tue Jul 09 19:53:18 CST 2019pool-1-thread-1\n=========================== ...>>cron....Tue Jul 09 19:53:18 CST 2019pool-1-thread-1\n===========fixedRate 开始:Tue Jul 09 19:53:18 CST 2019pool-1-thread-1\n===========fixedRate 结束:Tue Jul 09 19:53:20 CST 2019pool-1-thread-1\n===========fixedRate 开始:Tue Jul 09 19:53:20 CST 2019pool-1-thread-1\n===========fixedRate 结束:Tue Jul 09 19:53:22 CST 2019pool-1-thread-1\n===========fixedRate 开始:Tue Jul 09 19:53:22 CST 2019pool-1-thread-1\n===========fixedRate 结束:Tue Jul 09 19:53:24 CST 2019pool-1-thread-1\nfixedDelay 开始:Tue Jul 09 19:53:24 CST 2019pool-1-thread-1\nfixedDelay 结束:Tue Jul 09 19:53:34 CST 2019pool-1-thread-1\n=========================== ...>>cron....Tue Jul 09 19:53:34 CST 2019pool-1-thread-1\n===========fixedRate 开始:Tue Jul 09 19:53:34 CST 2019pool-1-thread-1\n===========fixedRate 结束:Tue Jul 09 19:53:36 CST 2019pool-1-thread-1\n===========fixedRate 开始:Tue Jul 09 19:53:36 CST 2019pool-1-thread-1\n===========fixedRate 结束:Tue Jul 09 19:53:38 CST 2019pool-1-thread-1\n===========fixedRate 开始:Tue Jul 09 19:53:38 CST 2019pool-1-thread-1\n===========fixedRate 结束:Tue Jul 09 19:53:40 CST 2019pool-1-thread-1\n===========fixedRate 开始:Tue Jul 09 19:53:40 CST 2019pool-1-thread-1\n===========fixedRate 结束:Tue Jul 09 19:53:42 CST 2019pool-1-thread-1\n===========fixedRate 开始:Tue Jul 09 19:53:42 CST 2019pool-1-thread-1\n===========fixedRate 结束:Tue Jul 09 19:53:44 CST 2019pool-1-thread-1\n===========fixedRate 开始:Tue Jul 09 19:53:44 CST 2019pool-1-thread-1\n===========fixedRate 结束:Tue Jul 09 19:53:46 CST 2019pool-1-thread-1\n===========fixedRate 开始:Tue Jul 09 19:53:46 CST 2019pool-1-thread-1\n===========fixedRate 结束:Tue Jul 09 19:53:48 CST 2019pool-1-thread-1\nfixedDelay 开始:Tue Jul 09 19:53:48 CST 2019pool-1-thread-1\nfixedDelay 结束:Tue Jul 09 19:53:58 CST 2019pool-1-thread-1\n=========================== ...>>cron....Tue Jul 09 19:53:58 CST 2019pool-1-thread-1\n")])])]),a("h1",{attrs:{id:"四、解决定时任务单线程运行的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、解决定时任务单线程运行的问题"}},[t._v("#")]),t._v(" 四、解决定时任务单线程运行的问题")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Configuration")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@EnableScheduling")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScheduleConfig")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SchedulingConfigurer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("configureTasks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScheduledTaskRegistrar")]),t._v(" taskRegistrar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        taskRegistrar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setScheduler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scheduledTaskExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Executor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scheduledTaskExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Executors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newScheduledThreadPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//指定线程池大小")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("再次运行上面的程序，运行时间规律就符合期望了。")])])}),[],!1,null,null,null);a.default=e.exports}}]);