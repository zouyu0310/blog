(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{382:function(a,s,l){a.exports=l.p+"assets/img/20220109150949.5dbba1fa.png"},383:function(a,s,l){a.exports=l.p+"assets/img/20220109151648.a1480d77.png"},384:function(a,s,l){a.exports=l.p+"assets/img/20220109152557.7554f7b8.png"},787:function(a,s,l){"use strict";l.r(s);var t=l(14),e=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("docker hub上面查找mysql镜像")]),a._v(" "),s("p",[a._v("从docker hub上(阿里云加速器)拉取mysql镜像到本地标签为5.7")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker pull mysql:5.7\n")])])]),s("h2",{attrs:{id:"使用mysql5-7镜像创建容器-也叫运行镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用mysql5-7镜像创建容器-也叫运行镜像"}},[a._v("#")]),a._v(" 使用mysql5.7镜像创建容器(也叫运行镜像)")]),a._v(" "),s("h3",{attrs:{id:"先运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#先运行"}},[a._v("#")]),a._v(" 先运行")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run -d -p 3306:3306 --privileged=true -v /zzyyuse/mysql/log:/var/log/mysql -v /zzyyuse/mysql/data:/var/lib/mysql -v /zzyyuse/mysql/conf:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=123456  --name mysql5.7 mysql:5.7\n")])])]),s("p",[a._v("解释:")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("--privileged=true  容器数据卷权限开启\n-v  : 可以挂多个数据卷\n-e MYSQL_ROOT_PASSWORD=123456  密码\n")])])]),s("h3",{attrs:{id:"新建my-cnf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新建my-cnf"}},[a._v("#")]),a._v(" 新建my.cnf")]),a._v(" "),s("p",[a._v("通过容器卷同步给mysql容器实例")]),a._v(" "),s("p",[s("img",{attrs:{src:l(382),alt:"image-20220109150948997"}})]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker restart mysql5.7\n\ndocker exec -it mysql5.7 bash\n\n\nmysql -uroot -p 123456\n# 查看编码\nshow variables like 'character%';\n")])])]),s("p",[s("img",{attrs:{src:l(383),alt:"image-20220109151648770"}})]),a._v(" "),s("h2",{attrs:{id:"删除并重新安装测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除并重新安装测试"}},[a._v("#")]),a._v(" 删除并重新安装测试")]),a._v(" "),s("p",[a._v("强制删除")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker rm -f mysql5.7\n")])])]),s("p",[a._v("再次新建并运行")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run -d -p 3306:3306 --privileged=true -v /zzyyuse/mysql/log:/var/log/mysql -v /zzyyuse/mysql/data:/var/lib/mysql -v /zzyyuse/mysql/conf:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=123456  --name mysql5.7 mysql:5.7\n")])])]),s("p",[a._v("发现数据都是在的")]),a._v(" "),s("p",[s("img",{attrs:{src:l(384),alt:"image-20220109152557342"}})]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run -d -p 3306:3306 --privileged=true -v /data/mysql/lib/mysql:/data/mysql/lib/mysql -v /data/mysql:/data/mysql -v /data/mysql/run/mysqld:/data/mysql/run/mysqld  -v /data/mysql/tmp:/data/mysql/tmp -v /etc/my.cnf:/etc/my.cnf  -v /data/mysql/log/mysqld.log:/data/mysql/log/mysqld.log -e MYSQL_ROOT_PASSWORD=Qianyan89892528  --name mysql8.0.27  mysql\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run -d -p 3306:3306 --privileged=true  -v /data/mysql/lib/mysql:/var/lib/mysql  -v /data/mysql/tmp:/data/mysql/tmp -v /data/mysql/log/mysqld.log:/data/mysql/log/mysqld.log  -v /etc/mysql/my.cnf:/etc/mysql/my.cnf -e MYSQL_ROOT_PASSWORD=Qianyan89892528  --name mysql8.0.27  mysql\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run -d -p 3306:3306 --privileged=true  -v /data/mysql/lib/mysql:/var/lib/mysql  -e MYSQL_ROOT_PASSWORD=Qianyan89892528  --name mysql8.0.27  mysql\n")])])]),s("p",[a._v("可运行")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run --restart=always  -d    --privileged=true   -v /data/mysql/log:/data/mysql/log  -v /data/mysql/lib/mysql:/data/mysql/lib/mysql -v /data/mysql/tmp:/data/mysql/tmp  -p 3307:3306 --name mysql11 -e MYSQL_ROOT_PASSWORD=Qianyan89892528 mysql\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run --restart=always  -d    --privileged=true  -v /data/mysql/lib/mysql:/var/lib/mysql -v /data/mysql/log:/data/mysql/log  -v /data/mysql/lib/mysql:/data/mysql/lib/mysql -v /data/mysql/tmp:/data/mysql/tmp -v /etc/mysql/my.cnf:/etc/mysql/my.cnf  -p 3307:3306 --name mysql -e MYSQL_ROOT_PASSWORD=Qianyan89892528 mysql\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run --restart=always  -d    --privileged=true   -v /dockerData/mysql/data:/var/lib/mysql   -p 3307:3306 --name mysql11 -e MYSQL_ROOT_PASSWORD=root  mysql:8.0.20 \n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);