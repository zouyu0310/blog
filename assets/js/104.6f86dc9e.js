(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{689:function(t,a,e){"use strict";e.r(a);var s=e(14),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"业务新增审批"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#业务新增审批"}},[t._v("#")]),t._v(" 业务新增审批")]),t._v(" "),a("h3",{attrs:{id:"_1-1-确定流程小类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-确定流程小类"}},[t._v("#")]),t._v(" 1.1 确定流程小类")]),t._v(" "),a("p",[t._v("oa_flow_child表新增type")]),t._v(" "),a("p",[t._v("如: feeRefund 押金退款转预存审批")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("INSERT INTO `oa_flow_child` ( `group_id`, `uuid`, `name`, `type`, `status`, `a_id`, `company_id`, `form_url`, `biaoshi`) VALUES ( NULL, 'feeRefund', '押金退款转预存审批', 'sys_oa', 1, '', '', '/infee/stepDeposit/tostepNode/{}?taskId={}', 'feeRefund');\n\n")])])]),a("p",[t._v("核心为: uuid")]),t._v(" "),a("h3",{attrs:{id:"_1-2-流程管理新增流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-流程管理新增流程"}},[t._v("#")]),t._v(" 1.2 流程管理新增流程")]),t._v(" "),a("p",[t._v("流程大类选择系统或者自定义")]),t._v(" "),a("p",[t._v("流程小类选择相关具体类型")]),t._v(" "),a("p",[t._v("部署完成后生成流程")]),t._v(" "),a("h3",{attrs:{id:"_1-3-业务页面新增类型查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-业务页面新增类型查询"}},[t._v("#")]),t._v(" 1.3 业务页面新增类型查询")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('\t\tgetSActiviti(){\n\t\t\t$.ajax({\n\t\t\t\ttype : "GET",\n\t\t\t\turl : "/activiti/task/gotoListByChildType/v2",\n\t\t\t\tdata : {\n\t\t\t\t\tchildType:\'feeRefund\'\n\t\t\t\t},// 你的formid\n\t\t\t\terror : (request)=> {\n\t\t\t\t\tparent.layer.alert("Connection error");\n\t\t\t\t},\n\t\t\t\tsuccess : (data)=> {\n\t\t\t\t\tconsole.log(data)\n\t\t\t\t\tthis.lcList = data\n\n\t\t\t\t\n\n\n\t\t\t\t}\n\t\t\t});\n\t\t},\n')])])]),a("p",[t._v("核心是查到流程的ID 如(process1681785394291)  ,并定义一个key 与业务进行绑定(可根据key查询具体的业务参数)")]),t._v(" "),a("h3",{attrs:{id:"_1-4-审批提交-只提交审批数据-不涉及业务数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-审批提交-只提交审批数据-不涉及业务数据"}},[t._v("#")]),t._v(" 1.4 审批提交-只提交审批数据,不涉及业务数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("接口: infee/stepDeposit/startFlow\n")])])]),a("h3",{attrs:{id:"_1-5-客户审批"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-客户审批"}},[t._v("#")]),t._v(" 1.5 客户审批")]),t._v(" "),a("ul",[a("li",[t._v("工作流程-找到具体审批数据点击审批")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('接口:  activiti/task/form/\n根据流程key可定位到具体流程小类和业务数据\n最终重定向到指定页面 return "redirect:" + formKey;\n')])])]),a("h3",{attrs:{id:"_1-6-审批过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-审批过程"}},[t._v("#")]),t._v(" 1.6 审批过程")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("提交接口: infee/stepDeposit/checksub/v2\n")])])]),a("p",[t._v("根据同意 拒绝控制业务走向")])])}),[],!1,null,null,null);a.default=r.exports}}]);