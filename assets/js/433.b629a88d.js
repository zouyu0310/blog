(window.webpackJsonp=window.webpackJsonp||[]).push([[433],{1071:function(e,n,r){"use strict";r.r(n);var t=r(14),a=Object(t.a)({},(function(){var e=this,n=e._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h2",{attrs:{id:"_21-订单支付两微服务注册进eureka集群"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_21-订单支付两微服务注册进eureka集群"}},[e._v("#")]),e._v(" 21_订单支付两微服务注册进Eureka集群")]),e._v(" "),n("ul",[n("li",[e._v("将支付服务8001微服务，订单服务80微服务发布到上面2台Eureka集群配置中")])]),e._v(" "),n("p",[e._v("将它们的配置文件的eureka.client.service-url.defaultZone进行修改")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("#微服务建议一定要写服务端口号和微服务名称\nserver:\n  #端口号\n  port: 8001\n\nspring:\n  application:\n    #微服务名称 --注意:一般命名好后不要轻易改动 此为入住Eureka服务端的名称\n    name: cloud-payment-service\n  #数据库配置\n  datasource:\n    type: com.alibaba.druid.pool.DruidDataSource\n    #mysql5.x的没有cj\n    driver-class-name: org.gjt.mm.mysql.Driver\n    #记得先创建数据库\n    url: jdbc:mysql://localhost:3306/db2021?useUnicode=true&characterEncoding=utf-8&useSSL=false&allowPublicKeyRetrieval=true\n    username: root\n    password: \n\n\n\n#mybatis配置\nmybatis:\n  mapper-locations: classpath:mapper/*.xml\n  type-aliases-package: com.angenin.springcloud.entities  #所有Entity别名类所在包\n\n\nlogging:\n  level:\n    root: info\n    com.springcloud: debug\n\neureka:\n  client:\n    #表示是否将自己注册进Eurekaserver默认为true。\n    register-with-eureka: true\n    #是否从EurekaServer抓取已有的注册信息，默认为true。单节点无所谓，集群必须设置为true才能配合ribbon使用负载均衡\n    fetchRegistry: true\n    service-url:\n#      defaultZone: http://localhost:7001/eureka\n      defaultZone: http://eureka7001.com:7001/eureka, http://eureka7002.com:7002/eureka\n\n\n")])])]),n("p",[e._v("测试01")]),e._v(" "),n("ol",[n("li",[e._v("先要启动EurekaServer，7001/7002服务 重要!")]),e._v(" "),n("li",[e._v("再要启动服务提供者provider，8001")]),e._v(" "),n("li",[e._v("再要启动消费者，80")]),e._v(" "),n("li",[e._v("浏览器输入 -http://localhost:81/consumer/payment/get/1")])])])}),[],!1,null,null,null);n.default=a.exports}}]);