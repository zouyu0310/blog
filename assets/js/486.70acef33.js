(window.webpackJsonp=window.webpackJsonp||[]).push([[486],{1152:function(t,s,a){"use strict";a.r(s);var e=a(14),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"redis基数统计-hyperloglog"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redis基数统计-hyperloglog"}},[t._v("#")]),t._v(" Redis基数统计(HyperLogLog)")]),t._v(" "),s("h3",{attrs:{id:"看需求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#看需求"}},[t._v("#")]),t._v(" 看需求：")]),t._v(" "),s("p",[t._v("用户搜索网站关键词的数量")]),t._v(" "),s("p",[t._v("统计用户每天搜索不同词条个数")]),t._v(" "),s("p",[t._v("统计某个网站的UV、统计某个文章的UV")]),t._v(" "),s("p",[t._v("什么是UV？")]),t._v(" "),s("p",[t._v("Unique Visitor，独立访客，一般理解为客户端IP，"),s("strong",[t._v("需要去重考虑")])]),t._v(" "),s("h3",{attrs:{id:"是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#是什么"}},[t._v("#")]),t._v(" 是什么")]),t._v(" "),s("p",[t._v("去重复统计功能的基数估计算法-就是HyperLogLog")]),t._v(" "),s("div",{staticClass:"language-tex extra-class"},[s("pre",{pre:!0,attrs:{class:"language-tex"}},[s("code",[t._v("Redis在2.8.9版本添加了HyperLogLog 结构。\nRedis HyperLogLog是用来做基数统计的算法，HyperLogLog 的优点是，在输入元素的数量或者体积非常非常大时，计算基数所需的空间总是固定的、并且是很小的。\n在Redis里面，每个 HyperLogLog键只需要花费12KB内存，就可以计算接近2^64个不同元素的基数。这和计算基数时，元素越多耗费\n内存就越多的集合形成鲜明对比。\n但是，因为HyperLogLog只会根据输入元素来计算基数，而不会储存输入元素本身，所以HyperLogLog不能像集合那样，返回输入的各个元素。\n")])])]),s("p",[s("strong",[t._v("基数")]),t._v("：是一种数据集，去重复后的真实个数")]),t._v(" "),s("div",{staticClass:"language-tex extra-class"},[s("pre",{pre:!0,attrs:{class:"language-tex"}},[s("code",[t._v("(全集)="),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("2,4,6,8,77,39,4,8,10"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n去掉重复的内容\n基数="),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("2,4,6,8,77,39,10"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" = 7\n")])])]),s("p",[t._v("基数统计：用于统计一个集合中不重复的元素个数，就是对集合去重复后剩余元素的计算。")]),t._v(" "),s("p",[t._v("一句话：去重脱水后的真实数据")]),t._v(" "),s("p",[t._v("基本命令：")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/69.jpg",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"images/70.jpg",alt:""}})])])}),[],!1,null,null,null);s.default=r.exports}}]);