(window.webpackJsonp=window.webpackJsonp||[]).push([[303],{922:function(t,r,a){"use strict";a.r(r);var e=a(14),n=Object(e.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("p",[t._v("背景:  在生产环境中，CPU 使用率过高可能会导致应用程序性能下降，影响用户体验。因此，对于生产环境中的 CPU 使用率过高问题，需要及时进行排查和解决。")]),t._v(" "),r("h2",{attrs:{id:"常规方案"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#常规方案"}},[t._v("#")]),t._v(" 常规方案")]),t._v(" "),r("ol",[r("li",[t._v("确定哪些进程占用了大量的 CPU 资源。您可以使用 "),r("code",[t._v("top")]),t._v(" 或 "),r("code",[t._v("htop")]),t._v(" 等工具来查看进程的 CPU 使用情况。")]),t._v(" "),r("li",[t._v("如果发现是 Java 应用程序占用了大量的 CPU 资源，您可以使用 "),r("code",[t._v("jstack")]),t._v(" 工具获取该 Java 进程的线程转储，以确定哪些线程占用了大量的 CPU 资源。")]),t._v(" "),r("li",[t._v("分析线程转储，找出占用大量 CPU 资源的线程。您可以查看这些线程的堆栈跟踪，以确定它们正在执行的操作。")]),t._v(" "),r("li",[t._v("根据分析结果，确定问题的根源并采取相应措施。例如，如果发现某个线程在执行一个耗时的数据库查询操作，则可能需要优化该查询语句或调整数据库索引。")])]),t._v(" "),r("h2",{attrs:{id:"arthas"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#arthas"}},[t._v("#")]),t._v(" arthas")]),t._v(" "),r("p",[t._v("如果您想使用 Arthas 来排查生产环境中 CPU 使用率过高的问题，您可以采取以下步骤：")]),t._v(" "),r("ol",[r("li",[t._v("在目标 Java 进程上启动 Arthas。您可以参考 "),r("a",{attrs:{href:"https://arthas.aliyun.com/doc/quick-start.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Arthas 官方文档"),r("OutboundLink")],1),t._v(" 中的说明来安装并启动 Arthas。")]),t._v(" "),r("li",[r("a",{attrs:{href:"https://arthas.aliyun.com/en/doc/dashboard.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("在 Arthas 命令行中，使用 "),r("code",[t._v("dashboard")]),t._v(" 命令查看实时统计信息，包括系统负载、CPU 使用率、内存使用情况等"),r("OutboundLink")],1),r("a",{attrs:{href:"https://arthas.aliyun.com/en/doc/dashboard.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("1"),r("OutboundLink")],1),t._v("。")]),t._v(" "),r("li",[r("a",{attrs:{href:"https://arthas.aliyun.com/en/doc/thread.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用 "),r("code",[t._v("thread")]),t._v(" 命令查看线程信息。您可以使用 "),r("code",[t._v("-n")]),t._v(" 参数来查看最忙的 n 个线程的详细堆栈跟踪信息"),r("OutboundLink")],1),r("a",{attrs:{href:"https://arthas.aliyun.com/en/doc/thread.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("2"),r("OutboundLink")],1),t._v("。")]),t._v(" "),r("li",[t._v("分析线程信息，确定哪些线程占用了大量的 CPU 资源。您可以查看这些线程的堆栈跟踪，以确定它们正在执行的操作。")])])])}),[],!1,null,null,null);r.default=n.exports}}]);