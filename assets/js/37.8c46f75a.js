(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{521:function(t,n,s){t.exports=s.p+"assets/img/20200521183833.38379ca8.png"},522:function(t,n,s){t.exports=s.p+"assets/img/20200521184047.9c9a08d4.png"},523:function(t,n,s){t.exports=s.p+"assets/img/20200521184132.0bed1eb0.png"},524:function(t,n,s){t.exports=s.p+"assets/img/20200521184224.595e4a27.png"},934:function(t,n,s){"use strict";s.r(n);var a=s(14),r=Object(a.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("ul",[n("li",[n("a",{attrs:{href:"#1-%E9%A6%96%E5%85%88%E5%87%86%E5%A4%87%E4%B8%A4%E4%B8%AA%E5%90%8C%E6%97%B6%E5%90%AF%E5%8A%A8%E7%9A%84-tomcat"}},[t._v("1. "),n("strong",[t._v("首先准备两个同时启动的")]),t._v(" "),n("strong",[t._v("Tomcat")])])]),t._v(" "),n("li",[n("a",{attrs:{href:"#2-%E5%9C%A8-nginxconf-%E4%B8%AD%E8%BF%9B%E8%A1%8C%E9%85%8D%E7%BD%AE"}},[t._v("2. "),n("strong",[t._v("在 nginx.conf 中进行配置")])])])]),t._v(" "),n("h1",{attrs:{id:"_1-首先准备两个同时启动的-tomcat"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-首先准备两个同时启动的-tomcat"}},[t._v("#")]),t._v(" 1. "),n("strong",[t._v("首先准备两个同时启动的")]),t._v(" "),n("strong",[t._v("Tomcat")])]),t._v(" "),n("h1",{attrs:{id:"_2-在-nginx-conf-中进行配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-在-nginx-conf-中进行配置"}},[t._v("#")]),t._v(" 2. "),n("strong",[t._v("在 nginx.conf 中进行配置")])]),t._v(" "),n("p",[n("strong",[t._v("在 nginx.conf 中进行配置")])]),t._v(" "),n("p",[n("img",{attrs:{src:s(521),alt:""}})]),t._v(" "),n("p",[t._v("随着互联网信息的爆炸性增长，负载均衡（load balance）已经不再是一个很陌生的话题，顾名思义，负载均衡即是将负载分摊到不同的服务单元，既保证服务的可用性，又保证响应足够快，给用户很好的体验。快速增长的访问量和数据流量催生了各式各样的负载均衡产品，很多专业的负载均衡硬件提供了很好的功能，但却价格不菲，这使得负载均衡软件大受欢迎， nginx 就是其中的一个，在 linux 下有 Nginx、LVS、Haproxy 等等服务可以提供负载均衡服务，而且 Nginx 提供了几种分配方式(策略)：")]),t._v(" "),n("p",[n("strong",[t._v("1、轮询(默认)")])]),t._v(" "),n("p",[t._v("每个请求按时间顺序逐一分配到不同的后端服务器，如果后端服务器 down 掉，能自动剔除。")]),t._v(" "),n("p",[n("strong",[t._v("2、weight")])]),t._v(" "),n("p",[t._v("weight 代表权,重默认为 1,权重越高被分配的客户端越多")]),t._v(" "),n("p",[t._v("指定轮询几率，weight 和访问比率成正比，用于后端服务器性能不均的情况。 例如：")]),t._v(" "),n("p",[n("img",{attrs:{src:s(522),alt:""}})]),t._v(" "),n("p",[n("strong",[t._v("3、ip_hash")])]),t._v(" "),n("p",[t._v("每个请求按访问 ip 的 hash 结果分配，这样每个访客固定访问一个后端服务器，可以解决 session 的问题。例如：")]),t._v(" "),n("p",[n("img",{attrs:{src:s(523),alt:""}})]),t._v(" "),n("p",[n("strong",[t._v("4、fair（第三方）")])]),t._v(" "),n("p",[t._v("按后端服务器的响应时间来分配请求，响应时间短的优先分配。")]),t._v(" "),n("p",[n("img",{attrs:{src:s(524),alt:""}})])])}),[],!1,null,null,null);n.default=r.exports}}]);